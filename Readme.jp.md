





<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://assets-cdn.github.com">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">

<meta content="origin-when-cross-origin" name="referrer" />

  <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/frameworks-521cbf980c80.css" integrity="sha512-Uhy/mAyAx1HfsenmjQ85ASpOk5bjt2Ay03pNeixXIvkHlEm5S+N4u0HWfDGhvsGYx4bGyviXWGGPZeIffqYcNA==" media="all" rel="stylesheet" />
  <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github-b028b0565d07.css" integrity="sha512-sCiwVl0HopKw2sd/QLCwI+iRbJHmjEXp/sYZCPCru4gLin1Y/xDUGcpWznQGGDB4IZQpqxTepNP0sVDmA5Nl1A==" media="all" rel="stylesheet" />
  
  
  
  

  <meta name="viewport" content="width=device-width">
  
  <title>alexa-skills-kit-sdk-for-nodejs/Readme.md at feature/localize-to-Japanese · CM-AZ/alexa-skills-kit-sdk-for-nodejs</title>
  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">

    
    <meta content="https://avatars2.githubusercontent.com/u/35447742?s=400&amp;v=4" property="og:image" /><meta content="GitHub" property="og:site_name" /><meta content="object" property="og:type" /><meta content="CM-AZ/alexa-skills-kit-sdk-for-nodejs" property="og:title" /><meta content="https://github.com/CM-AZ/alexa-skills-kit-sdk-for-nodejs" property="og:url" /><meta content="alexa-skills-kit-sdk-for-nodejs - The Alexa Skills Kit SDK for Node.js for localization to Japanese" property="og:description" />

  <link rel="assets" href="https://assets-cdn.github.com/">
  <link rel="web-socket" href="wss://live.github.com/_sockets/VjI6MjQyMzQ1MjExOjdiNjU2OGZhNTVkNjZiNDdiNzA2ZTc2NWE4Zjg1N2ZiZDMzNjJlMThjNmFlNGE4N2Q3N2U5ZmViZDg1YzU0YjA=--dfd9fa7911f089d413e16fbb1fd7fc20621549e2">
  <meta name="pjax-timeout" content="1000">
  <link rel="sudo-modal" href="/sessions/sudo_modal">
  <meta name="request-id" content="375D:EF46:64F7F9:91BE58:5A7B151D" data-pjax-transient>
  

  <meta name="selected-link" value="repo_source" data-pjax-transient>

    <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
  <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
  <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">
    <meta name="google-analytics" content="UA-3769691-2">

<meta content="collector.githubapp.com" name="octolytics-host" /><meta content="github" name="octolytics-app-id" /><meta content="https://collector.githubapp.com/github-external/browser_event" name="octolytics-event-url" /><meta content="375D:EF46:64F7F9:91BE58:5A7B151D" name="octolytics-dimension-request_id" /><meta content="sea" name="octolytics-dimension-region_edge" /><meta content="iad" name="octolytics-dimension-region_render" /><meta content="32206806" name="octolytics-actor-id" /><meta content="toshimin" name="octolytics-actor-login" /><meta content="47de7ebec8d2ccf6c71205214db1827bdab24644efd7d55a22f791546ee52bf4" name="octolytics-actor-hash" />
<meta content="https://github.com/hydro_browser_events" name="hydro-events-url" />
<meta content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" name="analytics-location" />




  <meta class="js-ga-set" name="dimension1" content="Logged In">


  

      <meta name="hostname" content="github.com">
  <meta name="user-login" content="toshimin">

      <meta name="expected-hostname" content="github.com">
    <meta name="js-proxy-site-detection-payload" content="MTMwY2IzOWNiOThjMDMzMjZhYjQzNDA4NGQzMGZlMmY2NzlmNzA5YzAyNjVhNDBhNDM0MDE4YTMzMTE0MTNjYXx7InJlbW90ZV9hZGRyZXNzIjoiMjcuMC4zLjE0NSIsInJlcXVlc3RfaWQiOiIzNzVEOkVGNDY6NjRGN0Y5OjkxQkU1ODo1QTdCMTUxRCIsInRpbWVzdGFtcCI6MTUxODAxNTc4NywiaG9zdCI6ImdpdGh1Yi5jb20ifQ==">

    <meta name="enabled-features" content="UNIVERSE_BANNER,MULTIPLE_ATTRIBUTION,FREE_TRIALS,MARKETPLACE_HERO_CARD_UPLOADER,CONTRIBUTOR_FLAGGED_CONTENT">

  <meta name="html-safe-nonce" content="09b28d9c05a8b5e75d23ab192639ac1aa6f956cc">

  <meta http-equiv="x-pjax-version" content="2bf51fd7082408c30b9f7c187424cdec">
  

      <link href="https://github.com/CM-AZ/alexa-skills-kit-sdk-for-nodejs/commits/feature/localize-to-Japanese.atom?token=Aetv1n8Df0aFvsFsICD7U9qzVxfV6oa0ks64hvYqwA%3D%3D" rel="alternate" title="Recent Commits to alexa-skills-kit-sdk-for-nodejs:feature/localize-to-Japanese" type="application/atom+xml">

  <meta name="description" content="alexa-skills-kit-sdk-for-nodejs - The Alexa Skills Kit SDK for Node.js for localization to Japanese">
  <meta name="go-import" content="github.com/CM-AZ/alexa-skills-kit-sdk-for-nodejs git https://github.com/CM-AZ/alexa-skills-kit-sdk-for-nodejs.git">

  <meta content="35447742" name="octolytics-dimension-user_id" /><meta content="CM-AZ" name="octolytics-dimension-user_login" /><meta content="117871080" name="octolytics-dimension-repository_id" /><meta content="CM-AZ/alexa-skills-kit-sdk-for-nodejs" name="octolytics-dimension-repository_nwo" /><meta content="false" name="octolytics-dimension-repository_public" /><meta content="false" name="octolytics-dimension-repository_is_fork" /><meta content="117871080" name="octolytics-dimension-repository_network_root_id" /><meta content="CM-AZ/alexa-skills-kit-sdk-for-nodejs" name="octolytics-dimension-repository_network_root_nwo" /><meta content="false" name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" />


    <link rel="canonical" href="https://github.com/CM-AZ/alexa-skills-kit-sdk-for-nodejs/blob/feature/localize-to-Japanese/Readme.md" data-pjax-transient>


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#000000">
  <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://assets-cdn.github.com/favicon.ico">

<meta name="theme-color" content="#1e2327">


  <meta name="u2f-support" content="true">

  </head>

  <body class="logged-in env-production emoji-size-boost page-blob">
    

  <div class="position-relative js-header-wrapper ">
    <a href="#start-of-content" tabindex="1" class="bg-black text-white p-3 show-on-focus js-skip-to-content">Skip to content</a>
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"><div class="progress"></div></div>

    
    
    



        
<header class="Header  f5" role="banner">
  <div class="d-flex px-3 flex-justify-between container-lg">
    <div class="d-flex flex-justify-between">
      <a class="header-logo-invertocat" href="https://github.com/" data-hotkey="g d" aria-label="Homepage" data-ga-click="Header, go to dashboard, icon:logo">
  <svg aria-hidden="true" class="octicon octicon-mark-github" height="32" version="1.1" viewBox="0 0 16 16" width="32"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
</a>


    </div>

    <div class="HeaderMenu d-flex flex-justify-between flex-auto">
      <div class="d-flex">
            <div class="">
              <div class="header-search scoped-search site-scoped-search js-site-search" role="search">
  <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/search" class="js-site-search-form" data-scoped-search-url="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/search" data-unscoped-search-url="/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
    <label class="form-control header-search-wrapper js-chromeless-input-container">
        <a href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/blob/feature/localize-to-Japanese/Readme.md" class="header-search-scope no-underline">This repository</a>
      <input type="text"
        class="form-control header-search-input js-site-search-focus js-site-search-field is-clearable"
        data-hotkey="s"
        name="q"
        value=""
        placeholder="Search"
        aria-label="Search this repository"
        data-unscoped-placeholder="Search GitHub"
        data-scoped-placeholder="Search"
        autocapitalize="off">
        <input type="hidden" class="js-site-search-type-field" name="type" >
    </label>
</form></div>

            </div>

          <ul class="d-flex pl-2 flex-items-center text-bold list-style-none" role="navigation">
            <li>
              <a href="/pulls" aria-label="Pull requests you created" class="js-selected-navigation-item HeaderNavlink px-2" data-ga-click="Header, click, Nav menu - item:pulls context:user" data-hotkey="g p" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls">
                Pull requests
</a>            </li>
            <li>
              <a href="/issues" aria-label="Issues you created" class="js-selected-navigation-item HeaderNavlink px-2" data-ga-click="Header, click, Nav menu - item:issues context:user" data-hotkey="g i" data-selected-links="/issues /issues/assigned /issues/mentioned /issues">
                Issues
</a>            </li>
                <li>
                  <a href="/marketplace" class="js-selected-navigation-item HeaderNavlink px-2" data-ga-click="Header, click, Nav menu - item:marketplace context:user" data-selected-links=" /marketplace">
                    Marketplace
</a>                </li>
            <li>
              <a href="/explore" class="js-selected-navigation-item HeaderNavlink px-2" data-ga-click="Header, click, Nav menu - item:explore" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore">
                Explore
</a>            </li>
          </ul>
      </div>

      <div class="d-flex">
        
<ul class="user-nav d-flex flex-items-center list-style-none" id="user-links">
  <li class="dropdown js-menu-container">
    <span class="d-inline-block  px-2">
      

    </span>
  </li>

  <li class="dropdown js-menu-container">
    <details class="dropdown-details details-reset js-dropdown-details d-flex px-2 flex-items-center">
      <summary class="HeaderNavlink"
         aria-label="Create new…"
         data-ga-click="Header, create new, icon:add">
        <svg aria-hidden="true" class="octicon octicon-plus float-left mr-1 mt-1" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 9H7v5H5V9H0V7h5V2h2v5h5z"/></svg>
        <span class="dropdown-caret mt-1"></span>
      </summary>

      <ul class="dropdown-menu dropdown-menu-sw">
        
<a class="dropdown-item" href="/new" data-ga-click="Header, create new repository">
  New repository
</a>

  <a class="dropdown-item" href="/new/import" data-ga-click="Header, import a repository">
    Import repository
  </a>

<a class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, create new gist">
  New gist
</a>

  <a class="dropdown-item" href="/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>



  <div class="dropdown-divider"></div>
  <div class="dropdown-header">
    <span title="CM-AZ/alexa-skills-kit-sdk-for-nodejs">This repository</span>
  </div>
    <a class="dropdown-item" href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/issues/new" data-ga-click="Header, create new issue">
      New issue
    </a>

      </ul>
    </details>
  </li>

  <li class="dropdown js-menu-container">

    <details class="dropdown-details details-reset js-dropdown-details d-flex pl-2 flex-items-center">
      <summary class="HeaderNavlink name mt-1"
        aria-label="View profile and more"
        data-ga-click="Header, show menu, icon:avatar">
        <img alt="@toshimin" class="avatar float-left mr-1" src="https://avatars3.githubusercontent.com/u/32206806?s=40&amp;v=4" height="20" width="20">
        <span class="dropdown-caret"></span>
      </summary>

      <ul class="dropdown-menu dropdown-menu-sw">
        <li class="dropdown-header header-nav-current-user css-truncate">
          Signed in as <strong class="css-truncate-target">toshimin</strong>
        </li>

        <li class="dropdown-divider"></li>

        <li><a class="dropdown-item" href="/toshimin" data-ga-click="Header, go to profile, text:your profile">
          Your profile
        </a></li>
        <li><a class="dropdown-item" href="/toshimin?tab=stars" data-ga-click="Header, go to starred repos, text:your stars">
          Your stars
        </a></li>
          <li><a class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, your gists, text:your gists">Your Gists</a></li>

        <li class="dropdown-divider"></li>

        <li><a class="dropdown-item" href="https://help.github.com" data-ga-click="Header, go to help, text:help">
          Help
        </a></li>

        <li><a class="dropdown-item" href="/settings/profile" data-ga-click="Header, go to settings, icon:settings">
          Settings
        </a></li>

        <li><!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/logout" class="logout-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="7HDm0k7r1KG7+xe06t0mTwF4hs+baPP1x7infWC4AuxBka1L3nYai0VCqpXRenr6Rt+Xhk2P1CpRue8RomPpgg==" /></div>
          <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout">
            Sign out
          </button>
        </form></li>
      </ul>
    </details>
  </li>
</ul>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/logout" class="sr-only right-0" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="XrYjObfJBaCoJdnrKfFji8AfCQUi/Ln2gc7XVW5kjYPzV2igJ1TLilacZMoSVj8+h7gYTPQbnikXz585rL9m7Q==" /></div>
          <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout">
            Sign out
          </button>
</form>      </div>
    </div>
  </div>
</header>

      

  </div>

  <div id="start-of-content" class="show-on-focus"></div>

    <div id="js-flash-container">
</div>



  <div role="main" class="application-main ">
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode" class="">
    <div id="js-repo-pjax-container" data-pjax-container >
      




  



  <div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav  ">
    <div class="repohead-details-container clearfix container">

      <ul class="pagehead-actions">
  <li>
        <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/notifications/subscribe" class="js-social-container" data-autosubmit="true" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="AN4ItJNtBHZyRL8ZI4ueqQI9jrVSjba9CCI5w7jropzT7hl0yRwUKi3W/N4+65BUVsH3vsCsH5A9c8/z1XqPxw==" /></div>      <input class="form-control" id="repository_id" name="repository_id" type="hidden" value="117871080" />

        <div class="select-menu js-menu-container js-select-menu">
          <a href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/subscription"
            class="btn btn-sm btn-with-count select-menu-button js-menu-target"
            role="button"
            aria-haspopup="true"
            aria-expanded="false"
            aria-label="Toggle repository notifications menu"
            data-ga-click="Repository, click Watch settings, action:blob#show">
            <span class="js-select-button">
                <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                Watch
            </span>
          </a>
          <a class="social-count js-social-count"
            href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/watchers"
            aria-label="1 user is watching this repository">
            1
          </a>

        <div class="select-menu-modal-holder">
          <div class="select-menu-modal subscription-menu-modal js-menu-content">
            <div class="select-menu-header js-navigation-enable" tabindex="-1">
              <svg aria-label="Close" class="octicon octicon-x js-menu-close" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
              <span class="select-menu-title">Notifications</span>
            </div>

              <div class="select-menu-list js-navigation-container" role="menu">

                <div class="select-menu-item js-navigation-item selected" role="menuitem" tabindex="0">
                  <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
                  <div class="select-menu-item-text">
                    <input checked="checked" id="do_included" name="do" type="radio" value="included" />
                    <span class="select-menu-item-heading">Not watching</span>
                    <span class="description">Be notified when participating or @mentioned.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                      Watch
                    </span>
                  </div>
                </div>

                <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                  <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
                  <div class="select-menu-item-text">
                    <input id="do_subscribed" name="do" type="radio" value="subscribed" />
                    <span class="select-menu-item-heading">Watching</span>
                    <span class="description">Be notified of all conversations.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                        Unwatch
                    </span>
                  </div>
                </div>

                <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                  <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
                  <div class="select-menu-item-text">
                    <input id="do_ignore" name="do" type="radio" value="ignore" />
                    <span class="select-menu-item-heading">Ignoring</span>
                    <span class="description">Never be notified.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg aria-hidden="true" class="octicon octicon-mute" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8 2.81v10.38c0 .67-.81 1-1.28.53L3 10H1c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h2l3.72-3.72C7.19 1.81 8 2.14 8 2.81zm7.53 3.22l-1.06-1.06-1.97 1.97-1.97-1.97-1.06 1.06L11.44 8 9.47 9.97l1.06 1.06 1.97-1.97 1.97 1.97 1.06-1.06L13.56 8l1.97-1.97z"/></svg>
                        Stop ignoring
                    </span>
                  </div>
                </div>

              </div>

            </div>
          </div>
        </div>
</form>
  </li>

  <li>
    
  <div class="js-toggler-container js-social-container starring-container ">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/unstar" class="starred js-social-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="Z01CtJvKrbtSv7tsT2fWK06yTklj2EENW/akDGvJNfieNkpvSDJ5X7VjIgPYV/rlNsP5zYmQGn1P6imQrz55dQ==" /></div>
      <input type="hidden" name="context" value="repository"></input>
      <button
        type="submit"
        class="btn btn-sm btn-with-count js-toggler-target"
        aria-label="Unstar this repository" title="Unstar CM-AZ/alexa-skills-kit-sdk-for-nodejs"
        data-ga-click="Repository, click unstar button, action:blob#show; text:Unstar">
        <svg aria-hidden="true" class="octicon octicon-star" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"/></svg>
        Unstar
      </button>
        <a class="social-count js-social-count" href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/stargazers"
           aria-label="0 users starred this repository">
          0
        </a>
</form>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/star" class="unstarred js-social-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="p4CXj80HBew3ouBNpEL24xLgFpyTemPPIifiwhizGnkmAsJ9cBuglcl/PX8KuknmF0Q2ooLLhfk6pfeDMCznlQ==" /></div>
      <input type="hidden" name="context" value="repository"></input>
      <button
        type="submit"
        class="btn btn-sm btn-with-count js-toggler-target"
        aria-label="Star this repository" title="Star CM-AZ/alexa-skills-kit-sdk-for-nodejs"
        data-ga-click="Repository, click star button, action:blob#show; text:Star">
        <svg aria-hidden="true" class="octicon octicon-star" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"/></svg>
        Star
      </button>
        <a class="social-count js-social-count" href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/stargazers"
           aria-label="0 users starred this repository">
          0
        </a>
</form>  </div>

  </li>

  <li>
        <span aria-label="Cannot fork because forking is disabled." class="btn btn-sm btn-with-count disabled" title="Cannot fork because forking is disabled.">
          <svg aria-hidden="true" class="octicon octicon-repo-forked" height="16" version="1.1" viewBox="0 0 10 16" width="10"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
          Fork
</span>
    <a href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/network" class="social-count"
       aria-label="0 users forked this repository">
      0
    </a>
  </li>
</ul>

      <h1 class="private ">
  <svg aria-hidden="true" class="octicon octicon-lock" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M4 13H3v-1h1v1zm8-6v7c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h1V4c0-2.2 1.8-4 4-4s4 1.8 4 4v2h1c.55 0 1 .45 1 1zM3.8 6h4.41V4c0-1.22-.98-2.2-2.2-2.2-1.22 0-2.2.98-2.2 2.2v2H3.8zM11 7H2v7h9V7zM4 8H3v1h1V8zm0 2H3v1h1v-1z"/></svg>
  <span class="author" itemprop="author"><a href="/CM-AZ" class="url fn" rel="author">CM-AZ</a></span><!--
--><span class="path-divider">/</span><!--
--><strong itemprop="name"><a href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs" data-pjax="#js-repo-pjax-container">alexa-skills-kit-sdk-for-nodejs</a></strong>
    <span class="Label Label--outline v-align-middle">Private</span>

</h1>

    </div>
    
<nav class="reponav js-repo-nav js-sidenav-container-pjax container"
     itemscope
     itemtype="http://schema.org/BreadcrumbList"
     role="navigation"
     data-pjax="#js-repo-pjax-container">

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/feature/localize-to-Japanese" class="js-selected-navigation-item selected reponav-item" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages /CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/feature/localize-to-Japanese" itemprop="url">
      <svg aria-hidden="true" class="octicon octicon-code" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"/></svg>
      <span itemprop="name">Code</span>
      <meta itemprop="position" content="1">
</a>  </span>

    <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/issues" class="js-selected-navigation-item reponav-item" data-hotkey="g i" data-selected-links="repo_issues repo_labels repo_milestones /CM-AZ/alexa-skills-kit-sdk-for-nodejs/issues" itemprop="url">
        <svg aria-hidden="true" class="octicon octicon-issue-opened" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg>
        <span itemprop="name">Issues</span>
        <span class="Counter">0</span>
        <meta itemprop="position" content="2">
</a>    </span>

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/pulls" class="js-selected-navigation-item reponav-item" data-hotkey="g p" data-selected-links="repo_pulls /CM-AZ/alexa-skills-kit-sdk-for-nodejs/pulls" itemprop="url">
      <svg aria-hidden="true" class="octicon octicon-git-pull-request" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
      <span itemprop="name">Pull requests</span>
      <span class="Counter">1</span>
      <meta itemprop="position" content="3">
</a>  </span>

    <a href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/projects" class="js-selected-navigation-item reponav-item" data-hotkey="g b" data-selected-links="repo_projects new_repo_project repo_project /CM-AZ/alexa-skills-kit-sdk-for-nodejs/projects">
      <svg aria-hidden="true" class="octicon octicon-project" height="16" version="1.1" viewBox="0 0 15 16" width="15"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>
      Projects
      <span class="Counter" >0</span>
</a>
    <a href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/wiki" class="js-selected-navigation-item reponav-item" data-hotkey="g w" data-selected-links="repo_wiki /CM-AZ/alexa-skills-kit-sdk-for-nodejs/wiki">
      <svg aria-hidden="true" class="octicon octicon-book" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"/></svg>
      Wiki
</a>

  <a href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/pulse" class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors dependency_graph pulse /CM-AZ/alexa-skills-kit-sdk-for-nodejs/pulse">
    <svg aria-hidden="true" class="octicon octicon-graph" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"/></svg>
    Insights
</a>

</nav>


  </div>

<div class="container new-discussion-timeline experiment-repo-nav  ">
  <div class="repository-content ">

    
  <a href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/blob/8239d7ec698b072708b5cd97c7b0674e4312e7cc/Readme.md" class="d-none js-permalink-shortcut" data-hotkey="y">Permalink</a>

  <!-- blob contrib key: blob_contributors:v21:d631c4f8f6f9e9192b68c6067b93e573 -->

  <div class="file-navigation js-zeroclipboard-container">
    
<div class="select-menu branch-select-menu js-menu-container js-select-menu float-left">
  <button class=" btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w"
    title="feature/localize-to-Japanese"
    type="button" aria-label="Switch branches or tags" aria-expanded="false" aria-haspopup="true">
      <i>Branch:</i>
      <span class="js-select-button css-truncate-target">feature/locali…</span>
  </button>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax>

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <svg aria-label="Close" class="octicon octicon-x js-menu-close" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
        <span class="select-menu-title">Switch branches/tags</span>
      </div>

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="form-control js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" data-filter-placeholder="Filter branches/tags" class="js-select-menu-tab" role="tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" data-filter-placeholder="Find a tag…" class="js-select-menu-tab" role="tab">Tags</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches" role="menu">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/blob/body-template-7/Readme.md"
               data-name="body-template-7"
               data-skip-pjax="true"
               rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                body-template-7
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/blob/configurable_state/Readme.md"
               data-name="configurable_state"
               data-skip-pjax="true"
               rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                configurable_state
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open selected"
               href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/blob/feature/localize-to-Japanese/Readme.md"
               data-name="feature/localize-to-Japanese"
               data-skip-pjax="true"
               rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                feature/localize-to-Japanese
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/blob/master/Readme.md"
               data-name="master"
               data-skip-pjax="true"
               rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                master
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/blob/unhandled_support_for_emit_with_state/Readme.md"
               data-name="unhandled_support_for_emit_with_state"
               data-skip-pjax="true"
               rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                unhandled_support_for_emit_with_state
              </span>
            </a>
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/v1.0.25/Readme.md"
              data-name="v1.0.25"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v1.0.25">
                v1.0.25
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/v1.0.10/Readme.md"
              data-name="v1.0.10"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v1.0.10">
                v1.0.10
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/v1.0.9/Readme.md"
              data-name="v1.0.9"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v1.0.9">
                v1.0.9
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/v1.0.6/Readme.md"
              data-name="v1.0.6"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v1.0.6">
                v1.0.6
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/v1.0.5/Readme.md"
              data-name="v1.0.5"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v1.0.5">
                v1.0.5
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/v1.0.3/Readme.md"
              data-name="v1.0.3"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v1.0.3">
                v1.0.3
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/1.0.24/Readme.md"
              data-name="1.0.24"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="1.0.24">
                1.0.24
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/1.0.23/Readme.md"
              data-name="1.0.23"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="1.0.23">
                1.0.23
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/1.0.22/Readme.md"
              data-name="1.0.22"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="1.0.22">
                1.0.22
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/1.0.21/Readme.md"
              data-name="1.0.21"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="1.0.21">
                1.0.21
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/1.0.20/Readme.md"
              data-name="1.0.20"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="1.0.20">
                1.0.20
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/1.0.19/Readme.md"
              data-name="1.0.19"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="1.0.19">
                1.0.19
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/1.0.18/Readme.md"
              data-name="1.0.18"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="1.0.18">
                1.0.18
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/1.0.17/Readme.md"
              data-name="1.0.17"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="1.0.17">
                1.0.17
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/1.0.16/Readme.md"
              data-name="1.0.16"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="1.0.16">
                1.0.16
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/1.0.15/Readme.md"
              data-name="1.0.15"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="1.0.15">
                1.0.15
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/1.0.14/Readme.md"
              data-name="1.0.14"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="1.0.14">
                1.0.14
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/1.0.13/Readme.md"
              data-name="1.0.13"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="1.0.13">
                1.0.13
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/1.0.12/Readme.md"
              data-name="1.0.12"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="1.0.12">
                1.0.12
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/1.0.11/Readme.md"
              data-name="1.0.11"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="1.0.11">
                1.0.11
              </span>
            </a>
        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div>

    </div>
  </div>
</div>

    <div class="BtnGroup float-right">
      <a href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/find/feature/localize-to-Japanese"
            class="js-pjax-capture-input btn btn-sm BtnGroup-item"
            data-pjax
            data-hotkey="t">
        Find file
      </a>
      <button aria-label="Copy file path to clipboard" class="js-zeroclipboard btn btn-sm BtnGroup-item tooltipped tooltipped-s" data-copied-hint="Copied!" type="button">Copy path</button>
    </div>
    <div class="breadcrumb js-zeroclipboard-target">
      <span class="repo-root js-repo-root"><span class="js-path-segment"><a href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/tree/feature/localize-to-Japanese" data-pjax="true"><span>alexa-skills-kit-sdk-for-nodejs</span></a></span></span><span class="separator">/</span><strong class="final-path">Readme.md</strong>
    </div>
  </div>


  <include-fragment class="commit-tease" src="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/contributors/feature/localize-to-Japanese/Readme.md">
    <div>
      Fetching contributors&hellip;
    </div>

    <div class="commit-tease-contributors">
      <img alt="" class="loader-loading float-left" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32-EAF2F5.gif" width="16" />
      <span class="loader-error">Cannot retrieve contributors at this time</span>
    </div>
</include-fragment>

  <div class="file">
    <div class="file-header">
  <div class="file-actions">

    <div class="BtnGroup">
      <a href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/raw/feature/localize-to-Japanese/Readme.md" class="btn btn-sm BtnGroup-item" id="raw-url">Raw</a>
        <a href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/blame/feature/localize-to-Japanese/Readme.md" class="btn btn-sm js-update-url-with-hash BtnGroup-item" data-hotkey="b">Blame</a>
      <a href="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/commits/feature/localize-to-Japanese/Readme.md" class="btn btn-sm BtnGroup-item" rel="nofollow">History</a>
    </div>

        <a class="btn-octicon tooltipped tooltipped-nw"
           href="https://desktop.github.com"
           aria-label="Open this file in GitHub Desktop"
           data-ga-click="Repository, open with desktop, type:mac">
            <svg aria-hidden="true" class="octicon octicon-device-desktop" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M15 2H1c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5.34c-.25.61-.86 1.39-2.34 2h8c-1.48-.61-2.09-1.39-2.34-2H15c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm0 9H1V3h14v8z"/></svg>
        </a>

          <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/edit/feature/localize-to-Japanese/Readme.md" class="inline-form js-update-url-with-hash" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="eLcd0nTaOJpVNC8Lg8XITffDqNHaWzP0VGH7JhN7zAZZMOcxwcCLfCxfM/5945J2mOMmalWYZXPpCQBSaxMEwQ==" /></div>
            <button class="btn-octicon tooltipped tooltipped-nw" type="submit"
              aria-label="Fork this project and edit the file" data-hotkey="e" data-disable-with>
              <svg aria-hidden="true" class="octicon octicon-pencil" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"/></svg>
            </button>
</form>
        <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/CM-AZ/alexa-skills-kit-sdk-for-nodejs/delete/feature/localize-to-Japanese/Readme.md" class="inline-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="6s8GPewpAwYmYwPWrTietBMwYlLxut1I3zo1PprWnMbLehAsu5YRIEHewpbaGgk7EauJ85+JUhAjoAZgCZJFHg==" /></div>
          <button class="btn-octicon btn-octicon-danger tooltipped tooltipped-nw" type="submit"
            aria-label="Fork this project and delete the file" data-disable-with>
            <svg aria-hidden="true" class="octicon octicon-trashcan" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"/></svg>
          </button>
</form>  </div>

  <div class="file-info">
      1026 lines (867 sloc)
      <span class="file-info-divider"></span>
    66 KB
  </div>
</div>

    
  <div id="readme" class="readme blob instapaper_body">
    <article class="markdown-body entry-content" itemprop="text"><h1><a href="#alexa-skills-kit-sdk-for-nodejs" aria-hidden="true" class="anchor" id="user-content-alexa-skills-kit-sdk-for-nodejs"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Alexa Skills Kit SDK for Node.js</h1>

<ul>
<li><a href="#alexa-skills-kit-sdk-for-nodejs">Alexa Skills Kit SDK for Node.js</a>
<ul>
<li><a href="#overview">概要</a></li>
<li><a href="#setup-guide">セットアップガイド</a></li>
<li><a href="#getting-started-writing-a-hello-world-skill">Getting Started: Hello Worldスキルの記述</a>
<ul>
<li><a href="#basic-project-structure">基本的なプロジェクトの構造</a></li>
<li><a href="#set-entry-point">エントリポイントを設定する</a></li>
<li><a href="#implement-handler-functions">ハンドラ関数を実装する</a></li>
</ul>
</li>
<li><a href="#response-vs-responsebuilder">Response vs ResponseBuilder</a>
<ul>
<li><a href="#tips">Tips</a></li>
</ul>
</li>
<li><a href="#standard-request-and-response">標準のリクエストとレスポンス</a></li>
<li><a href="#interfaces">インターフェース</a>
<ul>
<li><a href="#audioplayer-interface">AudioPlayerインターフェース</a></li>
<li><a href="#dialog-interface">Dialogインターフェース</a>
<ul>
<li><a href="#delegate-directive">Delegateディレクティブ</a></li>
<li><a href="#elicit-slot-directive">Elicit Slotディレクティブ</a></li>
<li><a href="#confirm-slot-directive">Confirm Slotディレクティブ</a></li>
<li><a href="#confirm-intent-directive">Confirm Intentディレクティブ</a></li>
</ul>
</li>
<li><a href="#display-interface">Displayインターフェース</a></li>
<li><a href="#playback-controller-interface">Playback Controllerインターフェース</a></li>
<li><a href="#videoapp-interface">VideoAppインターフェース</a></li>
<li><a href="#skill-and-list-events">SkillとList Events</a></li>
</ul>
</li>
<li><a href="#services">サービス</a>
<ul>
<li><a href="#device-address-service">Device Addressサービス</a></li>
<li><a href="#list-management-service">List Managementサービス</a></li>
<li><a href="#directive-service">ディレクティブサービス</a></li>
</ul>
</li>
<li><a href="#extend-features">機能を拡張する</a>
<ul>
<li><a href="#skill-state-management">スキルの状態管理</a></li>
<li><a href="#persisting-skill-attributes-through-dynamodb">DynamoDBによるスキル属性の保持</a></li>
<li><a href="#adding-multi-language-support-for-skill">スキルへの多言語対応の追加</a></li>
<li><a href="#device-id-support">Device IDのサポート</a></li>
<li><a href="#speechcons-interjections">Speechcons (感嘆詞)</a></li>
</ul>
</li>
<li><a href="#setting-up-your-development-environment">開発環境のセットアップ</a></li>
</ul>
</li>
</ul>

<h2><a href="#概要" aria-hidden="true" class="anchor" id="user-content-概要"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>概要</h2>
<p>Alexa SDKチームは、新しい <strong>Alexa Node.js SDK</strong> をお届けできることを誇りに思います。これは、開発者のために開発者が作成したオープンソースのAlexaスキル開発キットです。</p>
<p>現在のAlexaスキル開発で最も一般的な方法の1つが、Alexa Skills Kit、Node.js、AWS Lambdaを使用してスキルを作成することです。Node.jsのイベント駆動型ノンブロッキングI/OモデルはAlexaスキルに適していますし、Node.jsは世界のオープンソースライブラリの最も大きなエコシステムの1つです。さらに、AWS Lambdaは毎月最初の100万回の呼び出しが無料で、ほとんどのAlexaスキル開発者にとって満足できます。また、AWS Lambdaを使用する場合、Alexa Skills Kitは信頼できるトリガーなので、SSL証明書をあなたが管理する必要はありません。</p>
<p>AWS Lambda、Node.js、Alexa Skills Kitを使用したAlexaスキルの構築は、簡単な作業ではありましたが、たくさんのコードを書かなければなりませんでした。そこで、Alexa SDKチームは、Node.js用のAlexa Skills Kit SDKを作成しました。これは、一般的なつまづきを避けて、定型コードではなくスキルのロジックに集中することをお手伝いします。</p>
<p>新しいalexa-sdkでの私たちの目標は、不要な複雑さを避けて、あなたがスキルを素早く構築するのを助けることです。現在、このSDKは、次の機能を備えています。</p>
<ul>
<li>あらゆるNode.js環境に簡単にデプロイできるNPMパッケージとしてホストされています</li>
<li>ビルトインのイベントを使用してAlexaのレスポンスを構築する機能</li>
<li>「catch-all」なイベントとして使えるNew SessionイベントとUnhandledイベント</li>
<li>インテント処理をステートマシンベースで構築するためのヘルパー機能</li>
<li>この機能で、スキルの現在の状態に基づいて異なるイベントハンドラを定義できます</li>
<li>DynamoDBで属性の永続性を有効にする簡単な設定</li>
<li>すべての音声出力がSSMLとして自動的にラップされます</li>
<li>Lambdaイベントとコンテキストオブジェクトは、<code>this.event</code>と<code>this.context</code>を通して完全に利用できます</li>
<li>ビルトイン関数を上書きすることで、状態の管理やレスポンスの構築をより柔軟な方法でおこなえます。たとえば、AWS S3に状態の属性を保存できます。</li>
</ul>
<h2><a href="#セットアップガイド" aria-hidden="true" class="anchor" id="user-content-セットアップガイド"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>セットアップガイド</h2>
<p>alexa-sdkは、<a href="https://github.com/alexa/alexa-skills-kit-sdk-for-nodejs">Github</a>ですぐに入手できます。あなたのNode.js環境で次のコマンドを実行して、nodeパッケージとしてデプロイできます。</p>
<pre><code>npm install --save alexa-sdk
</code></pre>
<h2><a href="#getting-started-hello-worldスキルの記述" aria-hidden="true" class="anchor" id="user-content-getting-started-hello-worldスキルの記述"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting Started: Hello Worldスキルの記述</h2>
<h3><a href="#基本的なプロジェクトの構造" aria-hidden="true" class="anchor" id="user-content-基本的なプロジェクトの構造"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>基本的なプロジェクトの構造</h3>
<p>HelloWorldスキルには次のものが必要です。</p>
<ul>
<li>スキルに必要なすべてのパッケージをインポート、イベントの受け取り、appIdの設定、dynamoDBテーブルの設定、ハンドラ登録などをする、スキルのエントリポイント</li>
<li>各リクエストを処理するハンドラ関数</li>
</ul>
<h3><a href="#エントリポイントを設定する" aria-hidden="true" class="anchor" id="user-content-エントリポイントを設定する"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>エントリポイントを設定する</h3>
<p>あなたのプロジェクトにエントリポイントを設定するには、単にindex.jsという名前のファイルを作成して、次の内容を追加します。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">Alexa</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>alexa-sdk<span class="pl-pds">'</span></span>);

<span class="pl-c1">exports</span>.<span class="pl-en">handler</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(<span class="pl-c1">event</span>, <span class="pl-smi">context</span>, <span class="pl-smi">callback</span>) {
    <span class="pl-k">const</span> <span class="pl-c1">alexa</span> <span class="pl-k">=</span> <span class="pl-smi">Alexa</span>.<span class="pl-en">handler</span>(<span class="pl-c1">event</span>, context, callback);
    <span class="pl-smi">alexa</span>.<span class="pl-smi">appId</span> <span class="pl-k">=</span> <span class="pl-c1">APP_ID</span> <span class="pl-c"><span class="pl-c">//</span> APP_ID とは、スキルを作成するAmazon開発者コンソールに表示されるあなたのスキルIDです。</span>
    <span class="pl-smi">alexa</span>.<span class="pl-en">execute</span>();
};</pre></div>
<p>上のコードは、alexa-sdkをインポートして、これから作業するAlexaオブジェクトをセットアップします。</p>
<h3><a href="#ハンドラ関数を実装する" aria-hidden="true" class="anchor" id="user-content-ハンドラ関数を実装する"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ハンドラ関数を実装する</h3>
<p>次に、スキルのためにイベントとインテントを処理する必要があります。alexa-sdkを使うと、関数にインテントを発火させることが簡単になります。ハンドラ関数は、先ほど作成したindex.jsファイルに実装することも、別のファイルに記述して後からインポートすることもできます。 たとえば、 'HelloWorldIntent'のハンドラを作成するには、次の2つの方法があります。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">handlers</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">HelloWorldIntent</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-c"><span class="pl-c">//</span> レスポンスを直接返します</span>
        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:tell<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Hello World!<span class="pl-pds">'</span></span>);
    }
};</pre></div>
<p>または</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">handlers</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">HelloWorldIntent</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-c"><span class="pl-c">//</span> まずresponseBuilderを使ってレスポンスを構築してから返します</span>
        <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(<span class="pl-s"><span class="pl-pds">'</span>Hello World!<span class="pl-pds">'</span></span>);
        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
    }
};</pre></div>
<p>alexa-sdkは、responseBuilderでspeak/listenに対応するoutputSpeechレスポンスオブジェクトを生成するにあたり、tell/askレスポンス方式にしたがいます。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:tell<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Hello World!<span class="pl-pds">'</span></span>); 
<span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:ask<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>What would you like to do?<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Please say that again?<span class="pl-pds">'</span></span>);</pre></div>
<p>上のコードは、次のコードと同等です。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(<span class="pl-s"><span class="pl-pds">'</span>Hello World!<span class="pl-pds">'</span></span>);
<span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);

<span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(<span class="pl-s"><span class="pl-pds">'</span>What would you like to do?<span class="pl-pds">'</span></span>)
            .<span class="pl-en">listen</span>(<span class="pl-s"><span class="pl-pds">'</span>Please say that again?<span class="pl-pds">'</span></span>);
<span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);</pre></div>
<p>:ask/listen と :tell/speak の違いは、:tell/speakアクションの後、ユーザーがさらに入力するのを待つことなくセッションが終了することです。レスポンスを使用する方法と、responseBuilderを使用してレスポンスオブジェクトを作成する方法を、次のセクションで比較します。</p>
<p>ハンドラはリクエストを互いに転送できるので、ハンドラを連鎖することでより良いユーザーフローを実現できます。ここでは、LaunchRequestと (HelloWorldIntentの) IntentRequestが、両方同じ「Hello World」メッセージを返す例を示します。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">handlers</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">LaunchRequest</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
    	<span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>HelloWorldIntent<span class="pl-pds">'</span></span>);
	},

	<span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">HelloWorldIntent</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
    	<span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:tell<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Hello World!<span class="pl-pds">'</span></span>);
	}
};</pre></div>
<p>イベントハンドラをセットアップしたら、先ほど作成したalexaオブジェクトのregisterHandlers関数を使って、イベントハンドラを登録する必要があります。そのため、index.jsファイルに次の行を追加します。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">Alexa</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>alexa-sdk<span class="pl-pds">'</span></span>);

<span class="pl-c1">exports</span>.<span class="pl-en">handler</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(<span class="pl-c1">event</span>, <span class="pl-smi">context</span>, <span class="pl-smi">callback</span>) {
    <span class="pl-k">const</span> <span class="pl-c1">alexa</span> <span class="pl-k">=</span> <span class="pl-smi">Alexa</span>.<span class="pl-en">handler</span>(<span class="pl-c1">event</span>, context, callback);
    <span class="pl-smi">alexa</span>.<span class="pl-en">registerHandlers</span>(handlers);
    <span class="pl-smi">alexa</span>.<span class="pl-en">execute</span>();
};</pre></div>
<p>一度に複数のハンドラオブジェクトの登録もできます。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-smi">alexa</span>.<span class="pl-en">registerHandlers</span>(handlers, handlers2, handlers3, <span class="pl-k">...</span>);</pre></div>
<p>上の手順を完了すると、スキルがデバイスで正しく動作するはずです。</p>
<h2><a href="#レスポンス-vs-responsebuilder" aria-hidden="true" class="anchor" id="user-content-レスポンス-vs-responsebuilder"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>レスポンス vs ResponseBuilder</h2>
<p>現在、Node.js SDKで<a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#Response%20Format" rel="nofollow">レスポンスオブジェクト</a>を生成するには、2つの方法があります。最初の方法は、this.emit(<code>:${action}</code>, 'responseContent') の形式にしたがう構文を使用します。一般的なスキルのレスポンスについて、例の完全なリストを次に示します。</p>
<table>
<thead>
<tr>
<th>レスポンス構文</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>this.emit(':tell',speechOutput);</td>
<td><a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#outputspeech-object" rel="nofollow">speechOutput</a>を使ったTell</td>
</tr>
<tr>
<td>this.emit(':ask', speechOutput, repromptSpeech);</td>
<td><a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#outputspeech-object" rel="nofollow">speechOutput</a>と<a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#reprompt-object" rel="nofollow">repromptSpeech</a>を使ったAsk</td>
</tr>
<tr>
<td>this.emit(':tellWithCard', speechOutput, cardTitle, cardContent, imageObj);</td>
<td><a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#outputspeech-object" rel="nofollow">speechOutput</a>と<a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#card-object" rel="nofollow">standard card</a>を使ったTell</td>
</tr>
<tr>
<td>this.emit(':askWithCard', speechOutput, repromptSpeech, cardTitle, cardContent, imageObj);</td>
<td><a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#outputspeech-object" rel="nofollow">speechOutput</a>, <a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#reprompt-object" rel="nofollow">repromptSpeech</a>と<a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#card-object" rel="nofollow">standard card</a>を使ったAsk</td>
</tr>
<tr>
<td>this.emit(':tellWithLinkAccountCard', speechOutput);</td>
<td><a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#card-object" rel="nofollow">linkAccount card</a>を使ったTell, 詳しくは<a href="https://developer.amazon.com/docs/custom-skills/link-an-alexa-user-with-a-user-in-your-system.html" rel="nofollow">こちら</a>をクリック</td>
</tr>
<tr>
<td>this.emit(':askWithLinkAccountCard', speechOutput);</td>
<td><a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#card-object" rel="nofollow">linkAccount card</a>を使ったAsk, 詳しくは<a href="https://developer.amazon.com/docs/custom-skills/link-an-alexa-user-with-a-user-in-your-system.html" rel="nofollow">こちら</a>をクリック</td>
</tr>
<tr>
<td>this.emit(':tellWithPermissionCard', speechOutput, permissionArray);</td>
<td>Tell with <a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#session-object" rel="nofollow">permission card</a>を使ったTell, 詳しくは<a href="https://developer.amazon.com/docs/custom-skills/configure-permissions-for-customer-information-in-your-skill.html" rel="nofollow">こちら</a>をクリック</td>
</tr>
<tr>
<td>this.emit(':askWithPermissionCard', speechOutput, repromptSpeech, permissionArray)</td>
<td><a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#session-object" rel="nofollow">permission card</a>を使ったAsk, 詳しくは<a href="https://developer.amazon.com/docs/custom-skills/configure-permissions-for-customer-information-in-your-skill.html" rel="nofollow">こちら</a>をクリック</td>
</tr>
<tr>
<td>this.emit(':delegate', updatedIntent);</td>
<td><a href="https://developer.amazon.com/docs/custom-skills/dialog-interface-reference.html#dialog-model-required" rel="nofollow">dialog model</a>で<a href="https://developer.amazon.com/docs/custom-skills/dialog-interface-reference.html#delegate" rel="nofollow">delegate directive</a>を使ったレスポンス</td>
</tr>
<tr>
<td>this.emit(':elicitSlot', slotToElicit, speechOutput, repromptSpeech, updatedIntent);</td>
<td><a href="https://developer.amazon.com/docs/custom-skills/dialog-interface-reference.html#dialog-model-required" rel="nofollow">dialog model</a>で<a href="https://developer.amazon.com/docs/custom-skills/dialog-interface-reference.html#elicitslot" rel="nofollow">elicitSlot directive</a>を使ったレスポンス</td>
</tr>
<tr>
<td>this.emit(':elicitSlotWithCard', slotToElicit, speechOutput, repromptSpeech, cardTitle, cardContent, updatedIntent, imageObj);</td>
<td><a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#card-object" rel="nofollow">card</a>と<a href="https://developer.amazon.com/docs/custom-skills/dialog-interface-reference.html#dialog-model-required" rel="nofollow">dialog model</a>の<a href="https://developer.amazon.com/docs/custom-skills/dialog-interface-reference.html#elicitslot" rel="nofollow">elicitSlot directive</a>を使ったレスポンス</td>
</tr>
<tr>
<td>this.emit(':confirmSlot', slotToConfirm, speechOutput, repromptSpeech, updatedIntent);</td>
<td><a href="https://developer.amazon.com/docs/custom-skills/dialog-interface-reference.html#dialog-model-required" rel="nofollow">dialog model</a>で<a href="https://developer.amazon.com/docs/custom-skills/dialog-interface-reference.html#confirmslot" rel="nofollow">confirmSlot directive</a>を使ったレスポンス</td>
</tr>
<tr>
<td>this.emit(':confirmSlotWithCard', slotToConfirm, speechOutput, repromptSpeech, cardTitle, cardContent, updatedIntent, imageObj);</td>
<td><a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#card-object" rel="nofollow">card</a>と<a href="https://developer.amazon.com/docs/custom-skills/dialog-interface-reference.html#dialog-model-required" rel="nofollow">dialog model</a>で<a href="https://developer.amazon.com/docs/custom-skills/dialog-interface-reference.html#confirmslot" rel="nofollow">confirmSlot directive</a>を使ったレスポンス</td>
</tr>
<tr>
<td>this.emit(':confirmIntent', speechOutput, repromptSpeech, updatedIntent);</td>
<td><a href="https://developer.amazon.com/docs/custom-skills/dialog-interface-reference.html#dialog-model-required" rel="nofollow">dialog model</a>で<a href="https://developer.amazon.com/docs/custom-skills/dialog-interface-reference.html#confirmintent" rel="nofollow">confirmIntent directive</a>を使ったレスポンス</td>
</tr>
<tr>
<td>this.emit(':confirmIntentWithCard', speechOutput, repromptSpeech, cardTitle, cardContent, updatedIntent, imageObj);</td>
<td><a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#card-object" rel="nofollow">card</a>と<a href="https://developer.amazon.com/docs/custom-skills/dialog-interface-reference.html#dialog-model-required" rel="nofollow">dialog model</a>で<a href="https://developer.amazon.com/docs/custom-skills/dialog-interface-reference.html#confirmintent" rel="nofollow">confirmIntent directive</a>を使ったレスポンス</td>
</tr>
<tr>
<td>this.emit(':responseReady');</td>
<td>レスポンスが構築された後、Alexaサービスに返される前に呼び出される。saveStateを呼び出す。上書きできる。</td>
</tr>
<tr>
<td>this.emit(':saveState', false);</td>
<td>this.attributesの内容と現在のハンドラの状態をDynamoDBに保存し、それより前に構築したレスポンスをAlexaサービスに送信する。異なる永続性プロバイダを使用したい場合は、上書きする。2番目の属性はオプションで、保存を強制するために'true'を設定できる。</td>
</tr>
<tr>
<td>this.emit(':saveStateError');</td>
<td>状態の保存中にエラーが発生すると呼び出される。上書きしてエラーを処理する。</td>
</tr></tbody></table>
<p>独自のレスポンスを手動で作成するには、<code>this.response</code>を使います。<code>this.response</code>には一連の関数が含まれており、レスポンスのさまざまなプロパティを設定できます。これを使うことで、Alexa Skills Kitに組み込みのオーディオとビデオプレイヤーの機能を使えます。レスポンスを設定したら、<code>this.emit(':responseReady')</code>を呼び出すだけでAlexaにレスポンスを送れます。<code>this.response</code>内の関数も連鎖可能なので、1行の中で好きなだけ繋げて使えます。responseBuilderを使用してレスポンスを作成する例の完全なリストを次に示します。</p>
<table>
<thead>
<tr>
<th>レスポンス構文</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>this.response.speak(speechOutput);</td>
<td>最初の音声出力を<a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#outputspeech-object" rel="nofollow">speechOutput</a>に設定する</td>
</tr>
<tr>
<td>this.response.listen(repromptSpeech);</td>
<td>再読み上げの音声出力を<a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#reprompt-object" rel="nofollow">repromptSpeech</a>に設定し、shouldEndSessionをfalseにする。この関数が呼び出されないかぎり、this.responseは、shouldEndSessionをtrueに設定する。</td>
</tr>
<tr>
<td>this.response.cardRenderer(cardTitle, cardContent, cardImage);</td>
<td>レスポンスとして<a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#card-object" rel="nofollow">standard card</a>にcardTitle, cardContent, cardImageを追加する</td>
</tr>
<tr>
<td>this.response.linkAccountCard();</td>
<td>レスポンスとして<a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#card-object" rel="nofollow">linkAccount card</a>を追加する。詳しくは<a href="https://developer.amazon.com/docs/custom-skills/link-an-alexa-user-with-a-user-in-your-system.html" rel="nofollow">こちら</a>をクリック</td>
</tr>
<tr>
<td>this.response.askForPermissionsConsentCard(permissions);</td>
<td>レスポンスに<a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#session-object" rel="nofollow">perimission</a>を要求するカードを追加する。詳しくは<a href="https://developer.amazon.com/docs/custom-skills/configure-permissions-for-customer-information-in-your-skill.html" rel="nofollow">こちら</a>をクリック</td>
</tr>
<tr>
<td>this.response.audioPlayer(directiveType, behavior, url, token, expectedPreviousToken, offsetInMilliseconds);(Deprecated)</td>
<td>提供されたパラメータでレスポンスに<a href="https://developer.amazon.com/docs/custom-skills/audioplayer-interface-reference.html" rel="nofollow">AudioPlayer directive</a>を追加する。</td>
</tr>
<tr>
<td>this.response.audioPlayerPlay(behavior, url, token, expectedPreviousToken, offsetInMilliseconds);</td>
<td>提供されたパラメータを使用して<a href="https://developer.amazon.com/docs/custom-skills/audioplayer-interface-reference.html" rel="nofollow">AudioPlayer directive</a>を追加し、ディレクティブタイプとして<a href="https://developer.amazon.com/docs/custom-skills/audioplayer-interface-reference.html#play" rel="nofollow"><code>AudioPlayer.Play</code></a>を設定する。</td>
</tr>
<tr>
<td>this.response.audioPlayerStop();</td>
<td><a href="https://developer.amazon.com/docs/custom-skills/audioplayer-interface-reference.html#stop" rel="nofollow">AudioPlayer.Stop directive</a>を追加する</td>
</tr>
<tr>
<td>this.response.audioPlayerClearQueue(clearBehavior);</td>
<td><a href="https://developer.amazon.com/docs/custom-skills/audioplayer-interface-reference.html#clearqueue" rel="nofollow">AudioPlayer.ClearQueue directive</a>を追加してディレクティブをクリアする振る舞いを設定する。</td>
</tr>
<tr>
<td>this.response.renderTemplate(template);</td>
<td>レスポンスに<a href="https://developer.amazon.com/docs/custom-skills/display-interface-reference.html" rel="nofollow">Display.RenderTemplate directive</a>を追加する</td>
</tr>
<tr>
<td>this.response.hint(hintText, hintType);</td>
<td>レスポンスに<a href="https://developer.amazon.com/docs/custom-skills/display-interface-reference.html#hint-directive" rel="nofollow">Hint directive</a>を追加する</td>
</tr>
<tr>
<td>this.response.playVideo(videoSource, metadata);</td>
<td>レスポンスに<a href="https://developer.amazon.com/docs/custom-skills/videoapp-interface-reference.html#videoapp-directives" rel="nofollow">VideoApp.Play directive</a>を追加する</td>
</tr>
<tr>
<td>this.response.shouldEndSession(bool);</td>
<td>shouldEndSessionを手動で設定する</td>
</tr></tbody></table>
<p>レスポンスの設定が完了したら、単に<code>this.emit(':responseReady')</code>を呼び出してレスポンスを送信してください。いくつかのレスポンスオブジェクトでレスポンスを作成する2つの例を次に示します。</p>
<pre><code>//Example 1
this.response.speak(speechOutput)
            .listen(repromptSpeech);
this.emit(':responseReady');
//Example 2
this.response.speak(speechOutput)
            .cardRenderer(cardTitle, cardContent, cardImage)
            .renderTemplate(template)
            .hint(hintText, hintType);
this.emit(':responseReady');
</code></pre>
<p>responseBuilderにはリッチなレスポンスオブジェクトを作成できる柔軟性があるので、このメソッドを使用してレスポンスを構築することをお勧めします。</p>
<h3><a href="#tips" aria-hidden="true" class="anchor" id="user-content-tips"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tips</h3>
<ul>
<li><code>:ask</code>, <code>:tell</code>, <code>:askWithCard</code>などのレスポンスイベントのいずれかが出力されたとき、開発者が<code>callback</code>関数を渡さなければ、Lambdaのcontext.succeed()メソッドが呼び出され、それ以上のバックグラウンドタスクの処理を直ちに停止します。未完了のあらゆる非同期ジョブは完了されず、レスポンスemit構文よりも下の行のコードは実行されません。これは、<code>:saveState</code>のようなレスポンスを返さないイベントの場合には当てはまりません。</li>
<li>インテント「転送」と呼ばれる、ある状態ハンドラから別の状態ハンドラへリクエストを転送するには、<code>this.handler.state</code>を対象の状態の名前に設定する必要があります。対象の状態が "" の場合は、<code>this.emit("TargetHandlerName")</code>を呼び出します。他の状態のときは、代わりに<code>this.emitWithState("TargetHandlerName")</code>を呼び出さなければなりません。</li>
<li>promptとrepromptの値の内容は、SSMLタグでラップされます。つまり、値に含まれるすべての特殊なXML文字をエスケープする必要があります。たとえば、this.emit(":ask", "I like M&amp;M's")は、そのままだと失敗します。<code>&amp;</code>文字を<code>&amp;amp;</code>にエンコードする必要があるためです。エンコードする必要がある他の文字には、<code>&lt;</code> -&gt; <code>&amp;lt;</code>と<code>&gt;</code> -&gt; <code>&amp;gt;</code>があります。</li>
</ul>
<h2><a href="#標準のリクエストとレスポンス" aria-hidden="true" class="anchor" id="user-content-標準のリクエストとレスポンス"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>標準のリクエストとレスポンス</h2>
<p>Alexaは、HTTPSを使用するリクエスト/レスポンスの仕組みを介して、スキルサービスと通信します。ユーザーがAlexaスキルと対話すると、あなたのサービスはJSONのbodyを含むPOSTリクエストを受け取ります。リクエストbodyには、サービスがロジックを実行してJSON形式のレスポンスを生成するために必要なパラメータが含まれています。Node.jsはJSONをネイティブに処理できるので、Alexa Node.js SDKはJSONのシリアライズとデシリアライズをする必要はありません。開発者は、Alexaがユーザーのリクエストに応答するために、適切なレスポンスオブジェクトを提供する責任だけを持ちます。リクエストbodyのJSON構造に関するドキュメントは、<a href="https://developer.amazon.com/docs/custom-skills/request-and-response-json-reference.html#request-format" rel="nofollow">こちら</a>にあります。</p>
<p>SpeechletResponseには、次の属性が含まれます。</p>
<ul>
<li>OutputSpeech</li>
<li>Reprompt</li>
<li>Card</li>
<li>Directiveのリスト</li>
<li>shouldEndSession</li>
</ul>
<p>一例として、音声とカードの両方を含む簡単なレスポンスを次のように構築できます。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">speechOutput</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Hello world!<span class="pl-pds">'</span></span>;
<span class="pl-k">const</span> <span class="pl-c1">repromptSpeech</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Hello again!<span class="pl-pds">'</span></span>;
<span class="pl-k">const</span> <span class="pl-c1">cardTitle</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Hello World Card<span class="pl-pds">'</span></span>;
<span class="pl-k">const</span> <span class="pl-c1">cardContent</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>This text will be displayed in the companion app card.<span class="pl-pds">'</span></span>;
<span class="pl-k">const</span> <span class="pl-c1">imageObj</span> <span class="pl-k">=</span> {
	smallImageUrl<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>https://imgs.xkcd.com/comics/standards.png<span class="pl-pds">'</span></span>,
	largeImageUrl<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>https://imgs.xkcd.com/comics/standards.png<span class="pl-pds">'</span></span>
};
<span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(speechOutput)
            .<span class="pl-en">listen</span>(repromptSpeech)
            .<span class="pl-en">cardRenderer</span>(cardTitle, cardContent, imageObj);
<span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);</pre></div>
<h2><a href="#インターフェース" aria-hidden="true" class="anchor" id="user-content-インターフェース"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>インターフェース</h2>
<h3><a href="#audioplayerインターフェース" aria-hidden="true" class="anchor" id="user-content-audioplayerインターフェース"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AudioPlayerインターフェース</h3>
<p>開発者は、(それぞれの) スキルのレスポンスに次のディレクティブを含めることができます。</p>
<ul>
<li><code>PlayDirective</code></li>
<li><code>StopDirective</code></li>
<li><code>ClearQueueDirective</code></li>
</ul>
<p>オーディオのストリームに<code>PlayDirective</code>を使用する例を次に示します。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">handlers</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">LaunchRequest</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-k">const</span> <span class="pl-c1">speechOutput</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Hello world!<span class="pl-pds">'</span></span>;
        <span class="pl-k">const</span> <span class="pl-c1">behavior</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>REPLACE_ALL<span class="pl-pds">'</span></span>;
        <span class="pl-k">const</span> <span class="pl-c1">url</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>https://url/to/audiosource<span class="pl-pds">'</span></span>;
        <span class="pl-k">const</span> <span class="pl-c1">token</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>myMusic<span class="pl-pds">'</span></span>;
        <span class="pl-k">const</span> <span class="pl-c1">expectedPreviousToken</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>expectedPreviousStream<span class="pl-pds">'</span></span>;
        <span class="pl-k">const</span> <span class="pl-c1">offsetInMilliseconds</span> <span class="pl-k">=</span> <span class="pl-c1">10000</span>;
        <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(speechOutput)
                    .<span class="pl-en">audioPlayerPlay</span>(behavior, url, token, expectedPreviousToken, offsetInMilliseconds);
        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
    }
};</pre></div>
<p>上の例では、Alexaはまず<code>speechOutput</code>を発声してからオーディオを再生しようとします。</p>
<p><a href="https://developer.amazon.com/docs/custom-skills/audioplayer-interface-reference.html" rel="nofollow">AudioPlayer</a>インターフェースを利用するスキルを構築する場合、<code>playback</code>状態への変更を通知するために、スキルに<code>playback</code>リクエストが送信されます。それぞれのイベントに対してハンドラ関数を実装できます。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">handlers</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">AudioPlayer.PlaybackStarted</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
    	<span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>Alexa begins playing the audio stream<span class="pl-pds">'</span></span>);
    },
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">AudioPlayer.PlaybackFinished</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
    	<span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>The stream comes to an end<span class="pl-pds">'</span></span>);
    },
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">AudioPlayer.PlaybackStopped</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
    	<span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>Alexa stops playing the audio stream<span class="pl-pds">'</span></span>);
    },
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">AudioPlayer.PlaybackNearlyFinished</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
    	<span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>The currently playing stream is nearly complate and the device is ready to receive a new stream<span class="pl-pds">'</span></span>);
    },
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">AudioPlayer.PlaybackFailed</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
    	<span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>Alexa encounters an error when attempting to play a stream<span class="pl-pds">'</span></span>);
    }
};</pre></div>
<p><code>AudioPlayer</code>インターフェースについての追加のドキュメントは、<a href="https://developer.amazon.com/docs/custom-skills/audioplayer-interface-reference.html" rel="nofollow">こちら</a>にあります。</p>
<p>注意: <code>imgObj</code>に関する仕様については、<a href="https://developer.amazon.com/docs/custom-skills/include-a-card-in-your-skills-response.html#creating-a-home-card-to-display-text-and-an-image" rel="nofollow">こちら</a>を参照してください。</p>
<h3><a href="#dialogインターフェース" aria-hidden="true" class="anchor" id="user-content-dialogインターフェース"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dialogインターフェース</h3>
<p><code>Dialog</code>インターフェースは、スキルとユーザーの間で複数のターンを持つ会話を管理するディレクティブを提供します。ユーザーの要求を満たすために必要な情報をユーザーに質問するために、このディレクティブを使用できます。<a href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/dialog-interface-reference" rel="nofollow">Dialog Interface</a>と<a href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/ask-define-the-vui-with-gui" rel="nofollow">スキルビルダー</a>のドキュメントを参照してください。</p>
<p><code>this.event.request.dialogState</code>を使って、現在の<code>dialogState</code>にアクセスできます。</p>
<h4><a href="#delegateディレクティブ" aria-hidden="true" class="anchor" id="user-content-delegateディレクティブ"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Delegateディレクティブ</h4>
<p>ユーザーとの対話で次のターンを処理するコマンドをAlexaに送信します。このディレクティブは、スキルがダイアログモデルを使っていて、ダイアログの現在のステータス (<code>dialogState</code>) が<code>STARTED</code>または<code>IN_PROGRESS</code>の場合に使用できます。<code>dialogState</code>が<code>COMPLETED</code>の場合は、このディレクティブを出力できません。</p>
<p><code>this.emit(':delegate')</code>を使って、delegate directiveのレスポンスを送ることができます。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">handlers</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">BookFlightIntent</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
        <span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">request</span>.<span class="pl-smi">dialogState</span> <span class="pl-k">===</span> <span class="pl-s"><span class="pl-pds">'</span>STARTED<span class="pl-pds">'</span></span>) {
            <span class="pl-k">let</span> updatedIntent <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">request</span>.<span class="pl-smi">intent</span>;
            <span class="pl-c"><span class="pl-c">//</span> Pre-fill slots: デフォルト値を持つスロットの値でインテントオブジェクトを</span>
            <span class="pl-c"><span class="pl-c">//</span> 更新してから、この更新されたインテントで :delegate を送信する。</span>
            <span class="pl-smi">updatedIntent</span>.<span class="pl-smi">slots</span>.<span class="pl-smi">SlotName</span>.<span class="pl-c1">value</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>DefaultValue<span class="pl-pds">'</span></span>;
            <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:delegate<span class="pl-pds">'</span></span>, updatedIntent);
        } <span class="pl-k">else</span> <span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">request</span>.<span class="pl-smi">dialogState</span> <span class="pl-k">!==</span> <span class="pl-s"><span class="pl-pds">'</span>COMPLETED<span class="pl-pds">'</span></span>){
            <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:delegate<span class="pl-pds">'</span></span>);
        } <span class="pl-k">else</span> {
            <span class="pl-c"><span class="pl-c">//</span> すべてのスロットが入力済み (slot/intentの確認を選択した場合、確認がおこなわれる)</span>
            <span class="pl-en">handlePlanMyTripIntent</span>();
        }
    }
};</pre></div>
<h4><a href="#elicit-slotディレクティブ" aria-hidden="true" class="anchor" id="user-content-elicit-slotディレクティブ"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Elicit Slotディレクティブ</h4>
<p>ユーザーに特定のスロットの値を問い合わせるコマンドをAlexaに送信します。<code>slotToElicit</code>に取得するスロット名を指定してください。<code>speechOutput</code>にはユーザーにスロット値を問い合わせる際のpromptを指定します。</p>
<p>Elicit Slot ディレクティブのレスポンスを送信するために、<code>this.emit(':elicitSlot', slotToElicit, speechOutput, repromptSpeech, updatedIntent)</code>、または<code>this.emit(':elicitSlotWithCard', slotToElicit, speechOutput, repromptSpeech, cardTitle, cardContent, updatedIntent, imageObj)</code>を使えます。</p>
<p><code>this.emit(':elicitSlotWithCard', slotToElicit, speechOutput, repromptSpeech, cardTitle, cardContent, updatedIntent, imageObj)</code>を使用する場合、<code>updatedIntent</code>と<code>imageObj</code>はオプションのパラメータです。これらを<code>null</code>に設定したり、渡さないこともできます。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">handlers</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">BookFlightIntent</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
        <span class="pl-k">const</span> <span class="pl-c1">intentObj</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">request</span>.<span class="pl-smi">intent</span>;
        <span class="pl-k">if</span> (<span class="pl-k">!</span><span class="pl-smi">intentObj</span>.<span class="pl-smi">slots</span>.<span class="pl-smi">Source</span>.<span class="pl-c1">value</span>) {
            <span class="pl-k">const</span> <span class="pl-c1">slotToElicit</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Source<span class="pl-pds">'</span></span>;
            <span class="pl-k">const</span> <span class="pl-c1">speechOutput</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Where would you like to fly from?<span class="pl-pds">'</span></span>;
            <span class="pl-k">const</span> <span class="pl-c1">repromptSpeech</span> <span class="pl-k">=</span> speechOutput;
            <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:elicitSlot<span class="pl-pds">'</span></span>, slotToElicit, speechOutput, repromptSpeech);
        } <span class="pl-k">else</span> <span class="pl-k">if</span> (<span class="pl-k">!</span><span class="pl-smi">intentObj</span>.<span class="pl-smi">slots</span>.<span class="pl-smi">Destination</span>.<span class="pl-c1">value</span>) {
            <span class="pl-k">const</span> <span class="pl-c1">slotToElicit</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Destination<span class="pl-pds">'</span></span>;
            <span class="pl-k">const</span> <span class="pl-c1">speechOutput</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Where would you like to fly to?<span class="pl-pds">'</span></span>;
            <span class="pl-k">const</span> <span class="pl-c1">repromptSpeech</span> <span class="pl-k">=</span> speechOutput;
            <span class="pl-k">const</span> <span class="pl-c1">cardContent</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>What is the destination?<span class="pl-pds">'</span></span>;
            <span class="pl-k">const</span> <span class="pl-c1">cardTitle</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Destination<span class="pl-pds">'</span></span>;
            <span class="pl-k">const</span> <span class="pl-c1">updatedIntent</span> <span class="pl-k">=</span> intentObj;
            <span class="pl-c"><span class="pl-c">//</span> スキルに送信されたインテントを表わすインテントオプジェクト。</span>
            <span class="pl-c"><span class="pl-c">//</span> このプロパティのセットを使用するか、必要に応じてスロット値と確認状態を変更できる。</span>
            <span class="pl-k">const</span> <span class="pl-c1">imageObj</span> <span class="pl-k">=</span> {
                smallImageUrl<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>https://imgs.xkcd.com/comics/standards.png<span class="pl-pds">'</span></span>,
                largeImageUrl<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>https://imgs.xkcd.com/comics/standards.png<span class="pl-pds">'</span></span>
            };
            <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:elicitSlotWithCard<span class="pl-pds">'</span></span>, slotToElicit, speechOutput, repromptSpeech, cardTitle, cardContent, updatedIntent, imageObj);
        } <span class="pl-k">else</span> {
            <span class="pl-en">handlePlanMyTripIntentAllSlotsAreFilled</span>();
        }
    }
};</pre></div>
<h4><a href="#confirm-slotディレクティブ" aria-hidden="true" class="anchor" id="user-content-confirm-slotディレクティブ"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Confirm Slotディレクティブ</h4>
<p>Alexaに特定のスロットの値を確認するコマンドを送信してから、ダイアログを続行します。<code>slotToConfirm</code>で確認するスロット名を指定します。<code>speechOutput</code>にはユーザーに確認を求める際のpromptを指定します。</p>
<p><code>this.emit(':confirmSlot', slotToConfirm, speechOutput, repromptSpeech, updatedIntent)</code>、または<code>this.emit(':confirmSlotWithCard', slotToConfirm, speechOutput, repromptSpeech, cardTitle, cardContent, updatedIntent, imageObj)</code>を使って、Confirm Slotディレクティブのレスポンスを送信できます。</p>
<p><code>this.emit(':confirmSlotWithCard', slotToConfirm, speechOutput, repromptSpeech, cardTitle, cardContent, updatedIntent, imageObj)</code>を使用する場合、<code>updatedIntent</code>と<code>imageObj</code>はオプションのパラメータです。これらを<code>null</code>に設定したり、渡さないこともできます。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">handlers</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">BookFlightIntent</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
        <span class="pl-k">const</span> <span class="pl-c1">intentObj</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">request</span>.<span class="pl-smi">intent</span>;
        <span class="pl-k">if</span> (<span class="pl-smi">intentObj</span>.<span class="pl-smi">slots</span>.<span class="pl-smi">Source</span>.<span class="pl-smi">confirmationStatus</span> <span class="pl-k">!==</span> <span class="pl-s"><span class="pl-pds">'</span>CONFIRMED<span class="pl-pds">'</span></span>) {
            <span class="pl-k">if</span> (<span class="pl-smi">intentObj</span>.<span class="pl-smi">slots</span>.<span class="pl-smi">Source</span>.<span class="pl-smi">confirmationStatus</span> <span class="pl-k">!==</span> <span class="pl-s"><span class="pl-pds">'</span>DENIED<span class="pl-pds">'</span></span>) {
                <span class="pl-c"><span class="pl-c">//</span> スロット値は確認されない</span>
                <span class="pl-k">const</span> <span class="pl-c1">slotToConfirm</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Source<span class="pl-pds">'</span></span>;
                <span class="pl-k">const</span> <span class="pl-c1">speechOutput</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>You want to fly from <span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-smi">intentObj</span>.<span class="pl-smi">slots</span>.<span class="pl-smi">Source</span>.<span class="pl-c1">value</span> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>, is that correct?<span class="pl-pds">'</span></span>;
                <span class="pl-k">const</span> <span class="pl-c1">repromptSpeech</span> <span class="pl-k">=</span> speechOutput;
                <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:confirmSlot<span class="pl-pds">'</span></span>, slotToConfirm, speechOutput, repromptSpeech);
            } <span class="pl-k">else</span> {
                <span class="pl-c"><span class="pl-c">//</span> ユーザーがスロット値の確認を拒否する</span>
                <span class="pl-k">const</span> <span class="pl-c1">slotToElicit</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Source<span class="pl-pds">'</span></span>;
                <span class="pl-k">const</span> <span class="pl-c1">speechOutput</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Okay, Where would you like to fly from?<span class="pl-pds">'</span></span>;
                <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:elicitSlot<span class="pl-pds">'</span></span>, slotToElicit, speechOutput, speechOutput);
            }
        } <span class="pl-k">else</span> <span class="pl-k">if</span> (<span class="pl-smi">intentObj</span>.<span class="pl-smi">slots</span>.<span class="pl-smi">Destination</span>.<span class="pl-smi">confirmationStatus</span> <span class="pl-k">!==</span> <span class="pl-s"><span class="pl-pds">'</span>CONFIRMED<span class="pl-pds">'</span></span>) {
            <span class="pl-k">if</span> (<span class="pl-smi">intentObj</span>.<span class="pl-smi">slots</span>.<span class="pl-smi">Destination</span>.<span class="pl-smi">confirmationStatus</span> <span class="pl-k">!==</span> <span class="pl-s"><span class="pl-pds">'</span>DENIED<span class="pl-pds">'</span></span>) {
                <span class="pl-k">const</span> <span class="pl-c1">slotToConfirm</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Destination<span class="pl-pds">'</span></span>;
                <span class="pl-k">const</span> <span class="pl-c1">speechOutput</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>You would like to fly to <span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-smi">intentObj</span>.<span class="pl-smi">slots</span>.<span class="pl-smi">Destination</span>.<span class="pl-c1">value</span> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>, is that correct?<span class="pl-pds">'</span></span>;
                <span class="pl-k">const</span> <span class="pl-c1">repromptSpeech</span> <span class="pl-k">=</span> speechOutput;
                <span class="pl-k">const</span> <span class="pl-c1">cardContent</span> <span class="pl-k">=</span> speechOutput;
                <span class="pl-k">const</span> <span class="pl-c1">cardTitle</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Confirm Destination<span class="pl-pds">'</span></span>;
                <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:confirmSlotWithCard<span class="pl-pds">'</span></span>, slotToConfirm, speechOutput, repromptSpeech, cardTitle, cardContent);
            } <span class="pl-k">else</span> {
                <span class="pl-k">const</span> <span class="pl-c1">slotToElicit</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Destination<span class="pl-pds">'</span></span>;
                <span class="pl-k">const</span> <span class="pl-c1">speechOutput</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Okay, Where would you like to fly to?<span class="pl-pds">'</span></span>;
                <span class="pl-k">const</span> <span class="pl-c1">repromptSpeech</span> <span class="pl-k">=</span> speechOutput;
                <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:elicitSlot<span class="pl-pds">'</span></span>, slotToElicit, speechOutput, repromptSpeech);
            }
        } <span class="pl-k">else</span> {
            <span class="pl-en">handlePlanMyTripIntentAllSlotsAreConfirmed</span>();
        }
    }
};</pre></div>
<h4><a href="#confirm-intentディレクティブ" aria-hidden="true" class="anchor" id="user-content-confirm-intentディレクティブ"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Confirm Intentディレクティブ</h4>
<p>インテントのためにユーザーが提供したすべての情報を確認するコマンドをAlexaに送信してから、スキルがアクションを実行します。<code>speechOutput</code>にユーザーに確認を求める際のpromptを指定します。promptにはユーザーが確認する必要があるすべての値を含めてください。</p>
<p><code>this.emit(':confirmIntent', speechOutput, repromptSpeech, updatedIntent)</code>、または<code>this.emit(':confirmIntentWithCard', speechOutput, repromptSpeech, cardTitle, cardContent, updatedIntent, imageObj)</code>を使って、Confirm Intentディレクティブのレスポンスを送信できます。</p>
<p><code>this.emit(':confirmIntentWithCard', speechOutput, repromptSpeech, cardTitle, cardContent, updatedIntent, imageObj)</code>を使う場合、<code>updatedIntent</code>と<code>imageObj</code>はオプションのパラメータです。これらを<code>null</code>に設定したり、渡さないこともできます。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">handlers</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">BookFlightIntent</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
        <span class="pl-k">const</span> <span class="pl-c1">intentObj</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">request</span>.<span class="pl-smi">intent</span>;
        <span class="pl-k">if</span> (<span class="pl-smi">intentObj</span>.<span class="pl-smi">confirmationStatus</span> <span class="pl-k">!==</span> <span class="pl-s"><span class="pl-pds">'</span>CONFIRMED<span class="pl-pds">'</span></span>) {
            <span class="pl-k">if</span> (<span class="pl-smi">intentObj</span>.<span class="pl-smi">confirmationStatus</span> <span class="pl-k">!==</span> <span class="pl-s"><span class="pl-pds">'</span>DENIED<span class="pl-pds">'</span></span>) {
                <span class="pl-c"><span class="pl-c">//</span> インテントは確認されない</span>
                <span class="pl-k">const</span> <span class="pl-c1">speechOutput</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>You would like to book flight from <span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-smi">intentObj</span>.<span class="pl-smi">slots</span>.<span class="pl-smi">Source</span>.<span class="pl-c1">value</span> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span> to <span class="pl-pds">'</span></span> <span class="pl-k">+</span>
                <span class="pl-smi">intentObj</span>.<span class="pl-smi">slots</span>.<span class="pl-smi">Destination</span>.<span class="pl-c1">value</span> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>, is that correct?<span class="pl-pds">'</span></span>;
                <span class="pl-k">const</span> <span class="pl-c1">cardTitle</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Booking Summary<span class="pl-pds">'</span></span>;
                <span class="pl-k">const</span> <span class="pl-c1">repromptSpeech</span> <span class="pl-k">=</span> speechOutput;
                <span class="pl-k">const</span> <span class="pl-c1">cardContent</span> <span class="pl-k">=</span> speechOutput;
                <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:confirmIntentWithCard<span class="pl-pds">'</span></span>, speechOutput, repromptSpeech, cardTitle, cardContent);
            } <span class="pl-k">else</span> {
                <span class="pl-c"><span class="pl-c">//</span> ユーザーがインテントの確認を拒否する。スロットの値が正しくない可能性がある。</span>
                <span class="pl-en">handleIntentConfimationDenial</span>();
            }
        } <span class="pl-k">else</span> {
            <span class="pl-en">handlePlanMyTripIntentAllSlotsAndIntentAreConfirmed</span>();
        }
    }
};</pre></div>
<p><code>Dialog</code>インターフェースについての追加のドキュメントは、<a href="https://developer.amazon.com/docs/custom-skills/dialog-interface-reference.html" rel="nofollow">こちら</a>にあります。</p>
<h3><a href="#displayインターフェース" aria-hidden="true" class="anchor" id="user-content-displayインターフェース"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Displayインターフェース</h3>
<p>幅広い表現をサポートするために、Alexaはいくつかの<code>Display templates</code>を提供しています。現在、<code>Display templates</code>には2つのカテゴリがあります。</p>
<ul>
<li><code>BodyTemplate</code>は、テキストと選択できないイメージを表示します。現在5つのオプションがあります。</li>
</ul>
<ul>
<li><code>BodyTemplate1</code></li>
<li><code>BodyTemplate2</code></li>
<li><code>BodyTemplate3</code></li>
<li><code>BodyTemplate6</code></li>
<li><code>BodyTemplate7</code></li>
</ul>
<ul>
<li><code>ListTemplate</code>は、項目のスクロールが可能なリストと、それぞれに関連づけられたテキストとオプションの画像を表示します。これらの画像を選択可能にできます。現在2つのオプションがあります。</li>
</ul>
<ul>
<li><code>ListTemplate1</code></li>
<li><code>ListTemplate2</code></li>
</ul>
<p>開発者は、スキルのレスポンスに<code>Display.RenderTemplate</code>ディレクティブを含めなければいけません。
Template Builderは、alexa-sdkのtemplateBuilders名前空間に含まれています。これらは、<code>Display.RenderTemplate</code>ディレクティブ用のJSONテンプレートを構築するヘルパーメソッドのセットを提供します。次の例では、<code>BodyTemplate1Builder</code>を使って<code>Body template</code>を構築します。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">Alexa</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>alexa-sdk<span class="pl-pds">'</span></span>);
<span class="pl-c"><span class="pl-c">//</span> ImageとTextFieldオブジェクトを作成するユーティリティメソッド</span>
<span class="pl-k">const</span> <span class="pl-c1">makePlainText</span> <span class="pl-k">=</span> <span class="pl-smi">Alexa</span>.<span class="pl-smi">utils</span>.<span class="pl-smi">TextUtils</span>.<span class="pl-smi">makePlainText</span>;
<span class="pl-k">const</span> <span class="pl-c1">makeImage</span> <span class="pl-k">=</span> <span class="pl-smi">Alexa</span>.<span class="pl-smi">utils</span>.<span class="pl-smi">ImageUtils</span>.<span class="pl-smi">makeImage</span>;

<span class="pl-c"><span class="pl-c">//</span> ...</span>
<span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">LaunchRequest</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
	<span class="pl-k">const</span> <span class="pl-c1">builder</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Alexa.templateBuilders.BodyTemplate1Builder</span>();

	<span class="pl-k">const</span> <span class="pl-c1">template</span> <span class="pl-k">=</span> <span class="pl-smi">builder</span>.<span class="pl-en">setTitle</span>(<span class="pl-s"><span class="pl-pds">'</span>My BodyTemplate1<span class="pl-pds">'</span></span>)
							.<span class="pl-en">setBackgroundImage</span>(<span class="pl-en">makeImage</span>(<span class="pl-s"><span class="pl-pds">'</span>http://url/to/my/img.png<span class="pl-pds">'</span></span>))
							.<span class="pl-en">setTextContent</span>(<span class="pl-en">makePlainText</span>(<span class="pl-s"><span class="pl-pds">'</span>Text content<span class="pl-pds">'</span></span>))
							.<span class="pl-en">build</span>();

	<span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(<span class="pl-s"><span class="pl-pds">'</span>Rendering a body template!<span class="pl-pds">'</span></span>)
				.<span class="pl-en">renderTemplate</span>(template);
	<span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
}</pre></div>
<p>ImageおよびTextFieldオブジェクトを構築するために、ヘルパーユーティリティメソッドを追加しました。これらは、<code>Alexa.utils</code>名前空間にあります。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">ImageUtils</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>alexa-sdk<span class="pl-pds">'</span></span>).<span class="pl-smi">utils</span>.<span class="pl-smi">ImageUtils</span>;

<span class="pl-c"><span class="pl-c">//</span> 単一のソースで画像をアウトプットする</span>
<span class="pl-smi">ImageUtils</span>.<span class="pl-en">makeImage</span>(url, widthPixels, heightPixels, size, description);
<span class="pl-c"><span class="pl-c">/**</span></span>
<span class="pl-c">Outputs {</span>
<span class="pl-c">    contentDescription : '&lt;description&gt;'</span>
<span class="pl-c">    sources : [</span>
<span class="pl-c">        {</span>
<span class="pl-c">            url : '&lt;url&gt;',</span>
<span class="pl-c">            widthPixels : '&lt;widthPixels&gt;',</span>
<span class="pl-c">            heightPixels : '&lt;heightPixels&gt;',</span>
<span class="pl-c">            size : '&lt;size&gt;'</span>
<span class="pl-c">        }</span>
<span class="pl-c">    ]</span>
<span class="pl-c">}</span>
<span class="pl-c"><span class="pl-c">*/</span></span>

<span class="pl-smi">ImageUtils</span>.<span class="pl-en">makeImages</span>(imgArr, description);
<span class="pl-c"><span class="pl-c">/**</span></span>
<span class="pl-c">Outputs {</span>
<span class="pl-c">    contentDescription : '&lt;description&gt;'</span>
<span class="pl-c">    sources : &lt;imgArr&gt; // array of {url, size, widthPixels, heightPixels}</span>
<span class="pl-c">}</span>
<span class="pl-c"><span class="pl-c">*/</span></span>


<span class="pl-k">const</span> <span class="pl-c1">TextUtils</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>alexa-sdk<span class="pl-pds">'</span></span>).<span class="pl-smi">utils</span>.<span class="pl-smi">TextUtils</span>;

<span class="pl-smi">TextUtils</span>.<span class="pl-en">makePlainText</span>(<span class="pl-s"><span class="pl-pds">'</span>my plain text field<span class="pl-pds">'</span></span>);
<span class="pl-c"><span class="pl-c">/**</span></span>
<span class="pl-c">Outputs {</span>
<span class="pl-c">    text : 'my plain text field',</span>
<span class="pl-c">    type : 'PlainText'</span>
<span class="pl-c">}</span>
<span class="pl-c"><span class="pl-c">*/</span></span>

<span class="pl-smi">TextUtils</span>.<span class="pl-en">makeRichText</span>(<span class="pl-s"><span class="pl-pds">'</span>my rich text field<span class="pl-pds">'</span></span>);
<span class="pl-c"><span class="pl-c">/**</span></span>
<span class="pl-c">Outputs {</span>
<span class="pl-c">    text : 'my rich text field',</span>
<span class="pl-c">    type : 'RichText'</span>
<span class="pl-c">}</span>
<span class="pl-c"><span class="pl-c">*/</span></span>
</pre></div>
<p>次の例では、ListTemplate1BuilderとListItemBuilderを使用してListTemplate1を構築します。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">Alexa</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>alexa-sdk<span class="pl-pds">'</span></span>);
<span class="pl-k">const</span> <span class="pl-c1">makePlainText</span> <span class="pl-k">=</span> <span class="pl-smi">Alexa</span>.<span class="pl-smi">utils</span>.<span class="pl-smi">TextUtils</span>.<span class="pl-smi">makePlainText</span>;
<span class="pl-k">const</span> <span class="pl-c1">makeImage</span> <span class="pl-k">=</span> <span class="pl-smi">Alexa</span>.<span class="pl-smi">utils</span>.<span class="pl-smi">ImageUtils</span>.<span class="pl-smi">makeImage</span>;
<span class="pl-c"><span class="pl-c">//</span> ...</span>
<span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">LaunchRequest</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-k">const</span> <span class="pl-c1">itemImage</span> <span class="pl-k">=</span> <span class="pl-en">makeImage</span>(<span class="pl-s"><span class="pl-pds">'</span>https://url/to/imageResource<span class="pl-pds">'</span></span>, imageWidth, imageHeight);
    <span class="pl-k">const</span> <span class="pl-c1">listItemBuilder</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Alexa.templateBuilders.ListItemBuilder</span>();
    <span class="pl-k">const</span> <span class="pl-c1">listTemplateBuilder</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Alexa.templateBuilders.ListTemplate1Builder</span>();
    <span class="pl-smi">listItemBuilder</span>.<span class="pl-en">addItem</span>(itemImage, <span class="pl-s"><span class="pl-pds">'</span>listItemToken1<span class="pl-pds">'</span></span>, <span class="pl-en">makePlainText</span>(<span class="pl-s"><span class="pl-pds">'</span>List Item 1<span class="pl-pds">'</span></span>));
    <span class="pl-smi">listItemBuilder</span>.<span class="pl-en">addItem</span>(itemImage, <span class="pl-s"><span class="pl-pds">'</span>listItemToken2<span class="pl-pds">'</span></span>, <span class="pl-en">makePlainText</span>(<span class="pl-s"><span class="pl-pds">'</span>List Item 2<span class="pl-pds">'</span></span>));
    <span class="pl-smi">listItemBuilder</span>.<span class="pl-en">addItem</span>(itemImage, <span class="pl-s"><span class="pl-pds">'</span>listItemToken3<span class="pl-pds">'</span></span>, <span class="pl-en">makePlainText</span>(<span class="pl-s"><span class="pl-pds">'</span>List Item 3<span class="pl-pds">'</span></span>));
    <span class="pl-smi">listItemBuilder</span>.<span class="pl-en">addItem</span>(itemImage, <span class="pl-s"><span class="pl-pds">'</span>listItemToken4<span class="pl-pds">'</span></span>, <span class="pl-en">makePlainText</span>(<span class="pl-s"><span class="pl-pds">'</span>List Item 4<span class="pl-pds">'</span></span>));
    <span class="pl-k">const</span> <span class="pl-c1">listItems</span> <span class="pl-k">=</span> <span class="pl-smi">listItemBuilder</span>.<span class="pl-en">build</span>();
    <span class="pl-k">const</span> <span class="pl-c1">listTemplate</span> <span class="pl-k">=</span> <span class="pl-smi">listTemplateBuilder</span>.<span class="pl-en">setToken</span>(<span class="pl-s"><span class="pl-pds">'</span>listToken<span class="pl-pds">'</span></span>)
    										.<span class="pl-en">setTitle</span>(<span class="pl-s"><span class="pl-pds">'</span>listTemplate1<span class="pl-pds">'</span></span>)
    										.<span class="pl-en">setListItems</span>(listItems)
    										.<span class="pl-en">build</span>();
    <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(<span class="pl-s"><span class="pl-pds">'</span>Rendering a list template!<span class="pl-pds">'</span></span>)
    			.<span class="pl-en">renderTemplate</span>(listTemplate);
    <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
}</pre></div>
<p><code>Display.RenderTemplate</code>ディレクティブを (echoのような) 画面表示機能の無いデバイスに送ると、無効なディレクティブのエラーが投げられます。デバイスが特定のディレクティブをサポートしているかを確認するには、デバイスのsupportedInterfacesプロパティを確認します。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">handler</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">LaunchRequest</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {

    <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(<span class="pl-s"><span class="pl-pds">'</span>Hello there<span class="pl-pds">'</span></span>);

    <span class="pl-c"><span class="pl-c">//</span> Display.RenderTemplateディレクティブをレスポンスに追加できる</span>
    <span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">context</span>.<span class="pl-smi">System</span>.<span class="pl-smi">device</span>.<span class="pl-smi">supportedInterfaces</span>.<span class="pl-smi">Display</span>) {
        <span class="pl-c"><span class="pl-c">//</span>... TemplateBuilderを使用してmytemplateを構築する</span>
        <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">renderTemplate</span>(myTemplate);
    }

    <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
    }
};</pre></div>
<p>ビデオの場合も同様に、VideoAppインターフェイスがデバイスでサポートされているかどうかをチェックします。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">handler</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">PlayVideoIntent</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {

    <span class="pl-c"><span class="pl-c">//</span> VideoApp.Playディレクティブをレスポンスに追加できる</span>
    <span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">context</span>.<span class="pl-smi">System</span>.<span class="pl-smi">device</span>.<span class="pl-smi">supportedInterfaces</span>.<span class="pl-smi">VideoApp</span>) {
        <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">playVideo</span>(<span class="pl-s"><span class="pl-pds">'</span>http://path/to/my/video.mp4<span class="pl-pds">'</span></span>);
    } <span class="pl-k">else</span> {
        <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(<span class="pl-s"><span class="pl-pds">"</span>The video cannot be played on your device. <span class="pl-pds">"</span></span> <span class="pl-k">+</span>
        <span class="pl-s"><span class="pl-pds">"</span>To watch this video, try launching the skill from your echo show device.<span class="pl-pds">"</span></span>);
    }

        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
    }
};</pre></div>
<p><code>Display</code>インターフェースに関する追加のドキュメントは、<a href="https://developer.amazon.com/docs/custom-skills/display-interface-reference.html" rel="nofollow">こちら</a>にあります。</p>
<h3><a href="#playback-controllerインターフェース" aria-hidden="true" class="anchor" id="user-content-playback-controllerインターフェース"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Playback Controllerインターフェース</h3>
<p><code>PlaybackController</code>インターフェースは、ユーザーがデバイスのボタンやリモコンのようなプレイヤーコントロールとやり取りするときに送信されるリクエストを、スキルで処理できるようにします。これらのリクエストは、意図を表わすリクエストとして標準的である「アレクサ、次の曲」のような通常の音声による要求と異なります。スキルに<code>PlaybackController</code>リクエストを処理させるには、開発者がAlexa Node.js SDKで<code>PlaybackController</code>インターフェースを実装しなければいけません。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">handlers</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">PlaybackController.NextCommandIssued</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-c"><span class="pl-c">//</span>スキルは、あらゆるAudioPlayerディレクティブでNextCommandIssuedに応答できる。</span>
    },
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">PlaybackController.PauseCommandIssued</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-c"><span class="pl-c">//</span>スキルは、あらゆるAudioPlayerディレクティブでPauseCommandIssuedに応答できる。</span>
    },
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">PlaybackController.PlayCommandIssued</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-c"><span class="pl-c">//</span>スキルは、あらゆるAudioPlayerディレクティブでPlayCommandIssuedに応答できる。</span>
    },
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">PlaybackController.PreviousCommandIssued</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-c"><span class="pl-c">//</span>スキルは、あらゆるAudioPlayerディレクティブでPreviousCommandIssuedに応答できる。</span>
    },
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">System.ExceptionEncountered</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-c"><span class="pl-c">//</span>スキルは、System.ExceptionEncounteredにレスポンスを返せない。</span>
    }
};</pre></div>
<p><code>PlaybackController</code>インターフェースについての追加のドキュメントは、<a href="https://developer.amazon.com/docs/custom-skills/playback-controller-interface-reference.html" rel="nofollow">こちら</a>にあります。</p>
<h3><a href="#videoappインターフェース" aria-hidden="true" class="anchor" id="user-content-videoappインターフェース"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>VideoAppインターフェース</h3>
<p>Echo Showでネイティブビデオファイルをストリーミングするには、開発者は<code>VideoApp.Launch</code>ディレクティブを送信する必要があります。Alexa Node.js SDKは、responseBuilderにJSONレスポンスオブジェクトを構築するための関数を提供します。
ビデオをストリーミングする例を次に示します。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span>...</span>
<span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">LaunchRequest</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-k">const</span> <span class="pl-c1">videoSource</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>https://url/to/videosource<span class="pl-pds">'</span></span>;
    <span class="pl-k">const</span> <span class="pl-c1">metadata</span> <span class="pl-k">=</span> {
    	<span class="pl-s"><span class="pl-pds">'</span>title<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Title for Sample Video<span class="pl-pds">'</span></span>,
    	<span class="pl-s"><span class="pl-pds">'</span>subtitle<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Secondary Title for Sample Video<span class="pl-pds">'</span></span>
    };
    <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">playVideo</span>(videoSource metadata);
    <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
}</pre></div>
<p><code>VideoApp</code>インターフェースに関する追加のドキュメントは、<a href="https://developer.amazon.com/docs/custom-skills/videoapp-interface-reference.html" rel="nofollow">こちら</a>にあります。</p>
<h3><a href="#skillとlist-events" aria-hidden="true" class="anchor" id="user-content-skillとlist-events"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SkillとList Events</h3>
<p>Alexaスキルイベントにスキルがサブスクライブすると、イベントが発生した時にスキルは通知を受けます。</p>
<p>イベントをスキルがサブスクライブするには、<a href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/add-events-to-your-skill-with-smapi" rel="nofollow">SMAPIでスキルにイベントを追加する</a>に書かれている説明にしたがって、Alexaスキル管理API (SMAPI) へのアクセスを設定する必要があります。</p>
<p>あなたのスキルがこれらのイベントを受け取るように設定されたら、イベントが発生した時にスキルがイベントを受信するようになります。デフォルトのイベントハンドラにイベント名を追加することで、動作を指定できます。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">handlers</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">AlexaSkillEvent.SkillEnabled</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-k">const</span> <span class="pl-c1">userId</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">context</span>.<span class="pl-smi">System</span>.<span class="pl-smi">user</span>.<span class="pl-smi">userId</span>;
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">`</span>skill was enabled for user: <span class="pl-s1"><span class="pl-pse">${</span>userId<span class="pl-pse">}</span></span><span class="pl-pds">`</span></span>);
    },
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">AlexaHouseholdListEvent.ItemsCreated</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-k">const</span> <span class="pl-c1">listId</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">request</span>.<span class="pl-c1">body</span>.<span class="pl-smi">listId</span>;
        <span class="pl-k">const</span> <span class="pl-c1">listItemIds</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">request</span>.<span class="pl-c1">body</span>.<span class="pl-smi">listItemIds</span>;
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">`</span>The items: <span class="pl-s1"><span class="pl-pse">${</span><span class="pl-c1">JSON</span>.<span class="pl-c1">stringify</span>(listItemIds)<span class="pl-pse">}</span></span> were added to list <span class="pl-s1"><span class="pl-pse">${</span>listId<span class="pl-pse">}</span></span><span class="pl-pds">`</span></span>);
    },
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">AlexaHouseholdListEvent.ListCreated</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-k">const</span> <span class="pl-c1">listId</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">request</span>.<span class="pl-c1">body</span>.<span class="pl-smi">listId</span>;
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">`</span>The new list: <span class="pl-s1"><span class="pl-pse">${</span><span class="pl-c1">JSON</span>.<span class="pl-c1">stringify</span>(listId)<span class="pl-pse">}</span></span> was created<span class="pl-pds">`</span></span>);
    }
    <span class="pl-c"><span class="pl-c">//</span>...</span>
};

<span class="pl-c1">exports</span>.<span class="pl-en">handler</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(<span class="pl-c1">event</span>, <span class="pl-smi">context</span>, <span class="pl-smi">callback</span>) {
    <span class="pl-k">const</span> <span class="pl-c1">alexa</span> <span class="pl-k">=</span> <span class="pl-smi">Alexa</span>.<span class="pl-en">handler</span>(<span class="pl-c1">event</span>, context, callback);
    <span class="pl-smi">alexa</span>.<span class="pl-en">registerHandlers</span>(handlers);
    <span class="pl-smi">alexa</span>.<span class="pl-en">execute</span>();
};</pre></div>
<p>スキルイベントをサブスクライブするプロセスを説明するために<a href="https://github.com/Alexa/alexa-cookbook/tree/master/context/skill-events">サンプルスキルとウォークスルー</a>を作成しました。</p>
<h2><a href="#サービス" aria-hidden="true" class="anchor" id="user-content-サービス"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>サービス</h2>
<h3><a href="#device-addressサービス" aria-hidden="true" class="anchor" id="user-content-device-addressサービス"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Device Addressサービス</h3>
<p>Alexa NodeJS SDKは、Device Address APIを利用してユーザーのデバイスアドレス情報を取得する<code>DeviceAddressService</code>ヘルパークラスを提供します。現在、次の方法が提供されています。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-en">getFullAddress</span>(deviceId, apiEndpoint, token)
<span class="pl-en">getCountryAndPostalCode</span>(deviceId, apiEndpoint, token)</pre></div>
<p>リクエストの<code>this.event.context.System.apiEndpoint</code>と<code>this.event.context.System.user.permissions.consentToken</code>から、パラメータ<code>apiEndpoint</code>と<code>token</code>をそれぞれ取得できます。</p>
<p>また、<code>deviceId</code>はリクエストの<code>this.event.context.System.device.deviceId</code>から取得できます。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">Alexa</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>alexa-sdk<span class="pl-pds">'</span></span>);

<span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">DeviceAddressIntent</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
    <span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">context</span>.<span class="pl-smi">System</span>.<span class="pl-smi">user</span>.<span class="pl-smi">permissions</span>) {
        <span class="pl-k">const</span> <span class="pl-c1">token</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">context</span>.<span class="pl-smi">System</span>.<span class="pl-smi">user</span>.<span class="pl-smi">permissions</span>.<span class="pl-smi">consentToken</span>;
        <span class="pl-k">const</span> <span class="pl-c1">apiEndpoint</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">context</span>.<span class="pl-smi">System</span>.<span class="pl-smi">apiEndpoint</span>;
        <span class="pl-k">const</span> <span class="pl-c1">deviceId</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">context</span>.<span class="pl-smi">System</span>.<span class="pl-smi">device</span>.<span class="pl-smi">deviceId</span>;

        <span class="pl-k">const</span> <span class="pl-c1">das</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Alexa.services.DeviceAddressService</span>();
        <span class="pl-smi">das</span>.<span class="pl-en">getFullAddress</span>(deviceId, apiEndpoint, token)
        .<span class="pl-en">then</span>((<span class="pl-smi">data</span>) <span class="pl-k">=&gt;</span> {
            <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(<span class="pl-s"><span class="pl-pds">'</span>&lt;address information&gt;<span class="pl-pds">'</span></span>);
            <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>Address get: <span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-c1">JSON</span>.<span class="pl-c1">stringify</span>(data));
            <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
        })
        .<span class="pl-en">catch</span>((<span class="pl-smi">error</span>) <span class="pl-k">=&gt;</span> {
            <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(<span class="pl-s"><span class="pl-pds">'</span>I<span class="pl-cce">\'</span>m sorry. Something went wrong.<span class="pl-pds">'</span></span>);
            <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
            <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-smi">error</span>.<span class="pl-smi">message</span>);
        });
    } <span class="pl-k">else</span> {
        <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(<span class="pl-s"><span class="pl-pds">'</span>Please grant skill permissions to access your device address.<span class="pl-pds">'</span></span>);
        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
    }
}</pre></div>
<h3><a href="#list-managementサービス" aria-hidden="true" class="anchor" id="user-content-list-managementサービス"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>List Managementサービス</h3>
<p>Alexaのユーザーは、Alexa to-doとAlexaショッピングの2つのデフォルトリストにアクセスできます。さらに、Alexaのユーザーは、リストをサポートするスキルでカスタムリストを作成し、管理できます。</p>
<p>Alexa NodeJS SDKは、開発者がAlexaのデフォルトリストとカスタムリストをより簡単に管理するスキルを作成できるように、<code>ListManagementService</code>ヘルパークラスを提供します。現在、次のメソッドが提供されています。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-en">getListsMetadata</span>(token)
<span class="pl-en">createList</span>(listObject, token)
<span class="pl-en">getList</span>(listId, itemStatus, token)
<span class="pl-en">updateList</span>(listId, listObject, token)
<span class="pl-en">deleteList</span>(listId, token)
<span class="pl-en">createListItem</span>(listId, listItemObject, token)
<span class="pl-en">getListItem</span>(listId, itemId, token)
<span class="pl-en">updateListItem</span>(listId, itemId, listItemObject, token)
<span class="pl-en">deleteListItem</span>(listId, itemId, token)</pre></div>
<p><code>token</code>は、リクエストの<code>this.event.context.System.user.permissions.consentToken</code>から取得できます。</p>
<p><code>listId</code>は、<code>GetListsMetadata</code>を呼び出すことで取得できます。
<code>itemId</code>は、<code>GetList</code>を呼び出すことで取得できます。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">Alexa</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>alexa-sdk<span class="pl-pds">'</span></span>);

<span class="pl-k">function</span> <span class="pl-en">getListsMetadata</span>(<span class="pl-smi">token</span>) {
    <span class="pl-k">const</span> <span class="pl-c1">lms</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Alexa.services.ListManagementService</span>();
    <span class="pl-smi">lms</span>.<span class="pl-en">getListsMetadata</span>(token)
    .<span class="pl-en">then</span>((<span class="pl-smi">data</span>) <span class="pl-k">=&gt;</span> {
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>List retrieved: <span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-c1">JSON</span>.<span class="pl-c1">stringify</span>(data));
        <span class="pl-c1">this</span>.<span class="pl-smi">context</span>.<span class="pl-en">succeed</span>();
    })
    .<span class="pl-en">catch</span>((<span class="pl-smi">error</span>) <span class="pl-k">=&gt;</span> {
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-smi">error</span>.<span class="pl-smi">message</span>);
    });
};</pre></div>
<h3><a href="#ディレクティブサービス" aria-hidden="true" class="anchor" id="user-content-ディレクティブサービス"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ディレクティブサービス</h3>
<p><code>enqueue(directive, endpoint, token)</code></p>
<p>スキルの実行中に、Alexaデバイスへディレクティブを非同期に返します。現在のところ、SSML (MP3オーディオを含む) とプレーンテキスト出力形式の両方がサポートされているspeakディレクティブだけを受け付けます。ディレクティブは、スキルがアクティブな場合にだけ、元のデバイスに返すことができます。リクエストの<code>this.event.context.System.apiEndpoint</code>と<code>this.event.context.System.apiAccessToken</code>から、パラメータ<code>apiEndpoint</code>と<code>token</code>をそれぞれ取得できます。</p>
<ul>
<li>レスポンスの音声は、600文字以内に制限する必要があります。</li>
<li>SSMLで参照されるすべてのオーディオスニペットは、30秒以内に制限する必要があります。</li>
<li>スキルがディレクティブサービスを通して送信できるディレクティブの数に制限はありません。必要に応じて、スキルは実行ごとに複数のリクエストを送信できます。</li>
<li>ディレクティブサービスには重複排除の処理が含まれておらず、ユーザが同じディレクティブを複数回受け取る可能性があるため、リトライ処理はおすすめしません。</li>
</ul>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">Alexa</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>alexa-sdk<span class="pl-pds">'</span></span>);

<span class="pl-k">const</span> <span class="pl-c1">handlers</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">SearchIntent</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-k">const</span> <span class="pl-c1">requestId</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">request</span>.<span class="pl-smi">requestId</span>;
        <span class="pl-k">const</span> <span class="pl-c1">token</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">context</span>.<span class="pl-smi">System</span>.<span class="pl-smi">apiAccessToken</span>;
        <span class="pl-k">const</span> <span class="pl-c1">endpoint</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">context</span>.<span class="pl-smi">System</span>.<span class="pl-smi">apiEndpoint</span>;
        <span class="pl-k">const</span> <span class="pl-c1">ds</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Alexa.services.DirectiveService</span>();

        <span class="pl-k">const</span> <span class="pl-c1">directive</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Alexa.directives.VoicePlayerSpeakDirective</span>(requestId, <span class="pl-s"><span class="pl-pds">"</span>Please wait...<span class="pl-pds">"</span></span>);
        <span class="pl-k">const</span> <span class="pl-c1">progressiveResponse</span> <span class="pl-k">=</span> <span class="pl-smi">ds</span>.<span class="pl-en">enqueue</span>(directive, endpoint, token)
        .<span class="pl-en">catch</span>((<span class="pl-smi">err</span>) <span class="pl-k">=&gt;</span> {
            <span class="pl-c"><span class="pl-c">//</span> APIエラーを捕捉してスキルの処理を続ける</span>
        });
        <span class="pl-k">const</span> <span class="pl-c1">serviceCall</span> <span class="pl-k">=</span> <span class="pl-en">callMyService</span>();

        <span class="pl-c1">Promise</span>.<span class="pl-c1">all</span>([progressiveResponse, serviceCall])
        .<span class="pl-en">then</span>(() <span class="pl-k">=&gt;</span> {
            <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(<span class="pl-s"><span class="pl-pds">'</span>I found the following results<span class="pl-pds">'</span></span>);
            <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
        });
    }
};
</pre></div>
<h2><a href="#機能を拡張する" aria-hidden="true" class="anchor" id="user-content-機能を拡張する"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>機能を拡張する</h2>
<h3><a href="#スキルの状態管理" aria-hidden="true" class="anchor" id="user-content-スキルの状態管理"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>スキルの状態管理</h3>
<p>alexa-sdkは、入ってきたインテントを状態マネージャーを使用して正しい関数ハンドラにルーティングします。状態は、スキルの現在の状態を示す文字列としてセッション属性に格納されます。インテントハンドラを定義するときに状態文字列をインテント名に追加することで、ビルトインのインテントルーティングをエミュレートできますが、alexa-sdkはそれをするのに役立ちます。</p>
<p>SDKでの状態管理の仕組みを説明する例として、サンプルスキル<a href="https://github.com/alexa/skill-sample-nodejs-highlowgame/blob/master/lambda/custom/index.js">highlowgame</a>を見てみましょう。このスキルで、ユーザーは数字を推測して、Alexaはその数字が大きいか低いかを伝えます。また、ユーザーが何回プレイしたかも伝えます。このスキルは、'start'と'guess'の2つの状態を持っています。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">states</span> <span class="pl-k">=</span> {
	<span class="pl-c1">GUESSMODE</span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>_GUESSMODE<span class="pl-pds">'</span></span>, <span class="pl-c"><span class="pl-c">//</span> ユーザーは数字を推測する。</span>
	<span class="pl-c1">STARTMODE</span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>_STARTMODE<span class="pl-pds">'</span></span> <span class="pl-c"><span class="pl-c">//</span> ユーザーにゲームの開始または再開をうながす。</span>
};</pre></div>
<p>newSessionHandlersのNewSessionハンドラは、スキルが受け取ったインテントまたは起動要求のハンドラに先立って実行されます。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">newSessionHandlers</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">NewSession</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-k">if</span>(<span class="pl-c1">Object</span>.<span class="pl-c1">keys</span>(<span class="pl-c1">this</span>.<span class="pl-c1">attributes</span>).<span class="pl-c1">length</span> <span class="pl-k">===</span> <span class="pl-c1">0</span>) { <span class="pl-c"><span class="pl-c">//</span> スキルが初めて呼び出されたのかを確認する</span>
            <span class="pl-c1">this</span>.<span class="pl-c1">attributes</span>[<span class="pl-s"><span class="pl-pds">'</span>endedSessionCount<span class="pl-pds">'</span></span>] <span class="pl-k">=</span> <span class="pl-c1">0</span>;
            <span class="pl-c1">this</span>.<span class="pl-c1">attributes</span>[<span class="pl-s"><span class="pl-pds">'</span>gamesPlayed<span class="pl-pds">'</span></span>] <span class="pl-k">=</span> <span class="pl-c1">0</span>;
        }
        <span class="pl-c1">this</span>.<span class="pl-smi">handler</span>.<span class="pl-smi">state</span> <span class="pl-k">=</span> <span class="pl-smi">states</span>.<span class="pl-c1">STARTMODE</span>;
        <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(<span class="pl-s"><span class="pl-pds">'</span>Welcome to High Low guessing game. You have played <span class="pl-pds">'</span></span>
                        <span class="pl-k">+</span> <span class="pl-c1">this</span>.<span class="pl-c1">attributes</span>[<span class="pl-s"><span class="pl-pds">'</span>gamesPlayed<span class="pl-pds">'</span></span>].<span class="pl-c1">toString</span>() <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span> times. Would you like to play?<span class="pl-pds">'</span></span>)
                    .<span class="pl-en">listen</span>(<span class="pl-s"><span class="pl-pds">'</span>Say yes to start the game or no to quit.<span class="pl-pds">'</span></span>);
        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
    }
};</pre></div>
<p>新しいセッションが開始された時、<code>this.handler.state</code>を<code>STARTMODE</code>に設定するだけでスキルの状態がスキルのセッション属性に自動的に保持されます。オプションで、DynamoDBテーブルを設定すれば、セッションをまたいで保持されます。</p>
<p><code>NewSession</code>は素晴らしいcatch-allの動作をする良いエントリーポイントですが、必須ではないことに留意してください。<code>NewSession</code>は、その名前を持つハンドラが定義されている場合にだけ呼び出されます。ビルトインの永続化を使用していれば、定義した各状態毎に独自の<code>NewSession</code>ハンドラを持つことができます。上の例では、柔軟性を持たせるために、<code>states.STARTMODE</code>と<code>states.GUESSMODE</code>の両方に異なる<code>NewSession</code>の動作を定義しました。</p>
<p>スキルのさまざまな状態に対応するインテントを定義するには、<code>Alexa.CreateStateHandler</code>関数を使用する必要があります。ここに定義されたインテントハンドラは、スキルが特定の状態にある時だけ機能することで、さらに大きな柔軟性をもたらします。</p>
<p>たとえば、上で定義した<code>GUESSMODE</code>状態の時に、質問に応答しているユーザーに対処したいとします。これは、次のようにStateHandlerを使って実現できます。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">guessModeHandlers</span> <span class="pl-k">=</span> <span class="pl-smi">Alexa</span>.<span class="pl-en">CreateStateHandler</span>(<span class="pl-smi">states</span>.<span class="pl-c1">GUESSMODE</span>, {

<span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">NewSession</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
    <span class="pl-c1">this</span>.<span class="pl-smi">handler</span>.<span class="pl-smi">state</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>;
    <span class="pl-c1">this</span>.<span class="pl-en">emitWithState</span>(<span class="pl-s"><span class="pl-pds">'</span>NewSession<span class="pl-pds">'</span></span>); <span class="pl-c"><span class="pl-c">//</span> STARTMODEモードのNewSessionハンドラと同等</span>
},

<span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">NumberGuessIntent</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-k">const</span> <span class="pl-c1">guessNum</span> <span class="pl-k">=</span> <span class="pl-c1">parseInt</span>(<span class="pl-c1">this</span>.<span class="pl-c1">event</span>.<span class="pl-smi">request</span>.<span class="pl-smi">intent</span>.<span class="pl-smi">slots</span>.<span class="pl-smi">number</span>.<span class="pl-c1">value</span>);
    <span class="pl-k">const</span> <span class="pl-c1">targetNum</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-c1">attributes</span>[<span class="pl-s"><span class="pl-pds">'</span>guessNumber<span class="pl-pds">'</span></span>];

    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>user guessed: <span class="pl-pds">'</span></span> <span class="pl-k">+</span> guessNum);

    <span class="pl-k">if</span>(guessNum <span class="pl-k">&gt;</span> targetNum){
        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>TooHigh<span class="pl-pds">'</span></span>, guessNum);
    } <span class="pl-k">else</span> <span class="pl-k">if</span>( guessNum <span class="pl-k">&lt;</span> targetNum){
        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>TooLow<span class="pl-pds">'</span></span>, guessNum);
    } <span class="pl-k">else</span> <span class="pl-k">if</span> (guessNum <span class="pl-k">===</span> targetNum){
        <span class="pl-c"><span class="pl-c">//</span> コールバックでアロー関数を使うことで、正しい'this'コンテキストを保持する</span>
        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>JustRight<span class="pl-pds">'</span></span>, () <span class="pl-k">=&gt;</span> {
            <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(<span class="pl-smi">guessNum</span>.<span class="pl-c1">toString</span>() <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>is correct! Would you like to play a new game?<span class="pl-pds">'</span></span>)
                        .<span class="pl-en">listen</span>(<span class="pl-s"><span class="pl-pds">'</span>Say yes to start a new game, or no to end the game.<span class="pl-pds">'</span></span>);
            <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
        });
    } <span class="pl-k">else</span> {
        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>NotANum<span class="pl-pds">'</span></span>);
    }
},

<span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">AMAZON.HelpIntent</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(<span class="pl-s"><span class="pl-pds">'</span>I am thinking of a number between zero and one hundred, try to guess and I will tell you<span class="pl-pds">'</span></span> <span class="pl-k">+</span>
    <span class="pl-s"><span class="pl-pds">'</span> if it is higher or lower.<span class="pl-pds">'</span></span>)
                .<span class="pl-en">listen</span>(<span class="pl-s"><span class="pl-pds">'</span>Try saying a number.<span class="pl-pds">'</span></span>);
    <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
},

<span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">SessionEndedRequest</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>session ended!<span class="pl-pds">'</span></span>);
    <span class="pl-c1">this</span>.<span class="pl-c1">attributes</span>[<span class="pl-s"><span class="pl-pds">'</span>endedSessionCount<span class="pl-pds">'</span></span>] <span class="pl-k">+=</span> <span class="pl-c1">1</span>;
    <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:saveState<span class="pl-pds">'</span></span>, <span class="pl-c1">true</span>); <span class="pl-c"><span class="pl-c">//</span> :saveStateを呼んで、セッション属性をDynamoDBに保持する</span>
},

<span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">Unhandled</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(<span class="pl-s"><span class="pl-pds">'</span>Sorry, I didn<span class="pl-cce">\'</span>t get that. Try saying a number.<span class="pl-pds">'</span></span>)
                .<span class="pl-en">listen</span>(<span class="pl-s"><span class="pl-pds">'</span>Try saying a number.<span class="pl-pds">'</span></span>);
    <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
}
});</pre></div>
<p>一方で、スキルの状態がSTARTMODEの場合のStateHandlerは以下のように定義することができます：</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">startGameHandlers</span> <span class="pl-k">=</span> <span class="pl-smi">Alexa</span>.<span class="pl-en">CreateStateHandler</span>(<span class="pl-smi">states</span>.<span class="pl-c1">STARTMODE</span>, {

    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">NewSession</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>NewSession<span class="pl-pds">'</span></span>); <span class="pl-c"><span class="pl-c">//</span> newSessionHandlers内のハンドラを使う</span>
    },

    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">AMAZON.HelpIntent</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-k">const</span> <span class="pl-c1">message</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>I will think of a number between zero and one hundred, try to guess and I will tell you if it<span class="pl-pds">'</span></span> <span class="pl-k">+</span>
        <span class="pl-s"><span class="pl-pds">'</span> is higher or lower. Do you want to start the game?<span class="pl-pds">'</span></span>;
        <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(message)
                    .<span class="pl-en">listen</span>(message);
        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
    },

    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">AMAZON.YesIntent</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-c1">this</span>.<span class="pl-c1">attributes</span>[<span class="pl-s"><span class="pl-pds">'</span>guessNumber<span class="pl-pds">'</span></span>] <span class="pl-k">=</span> <span class="pl-c1">Math</span>.<span class="pl-c1">floor</span>(<span class="pl-c1">Math</span>.<span class="pl-c1">random</span>() <span class="pl-k">*</span> <span class="pl-c1">100</span>);
        <span class="pl-c1">this</span>.<span class="pl-smi">handler</span>.<span class="pl-smi">state</span> <span class="pl-k">=</span> <span class="pl-smi">states</span>.<span class="pl-c1">GUESSMODE</span>;
        <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(<span class="pl-s"><span class="pl-pds">'</span>Great! <span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>Try saying a number to start the game.<span class="pl-pds">'</span></span>)
                    .<span class="pl-en">listen</span>(<span class="pl-s"><span class="pl-pds">'</span>Try saying a number.<span class="pl-pds">'</span></span>);
        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
    },

    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">AMAZON.NoIntent</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(<span class="pl-s"><span class="pl-pds">'</span>Ok, see you next time!<span class="pl-pds">'</span></span>);
        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
    },

    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">SessionEndedRequest</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>session ended!<span class="pl-pds">'</span></span>);
        <span class="pl-c1">this</span>.<span class="pl-c1">attributes</span>[<span class="pl-s"><span class="pl-pds">'</span>endedSessionCount<span class="pl-pds">'</span></span>] <span class="pl-k">+=</span> <span class="pl-c1">1</span>;
        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:saveState<span class="pl-pds">'</span></span>, <span class="pl-c1">true</span>);
    },

    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">Unhandled</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-k">const</span> <span class="pl-c1">message</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Say yes to continue, or no to end the game.<span class="pl-pds">'</span></span>;
        <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(message)
                    .<span class="pl-en">listen</span>(message);
        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
    }
});</pre></div>
<p>この状態で 'yes'または'no'という応答には意味がないため、<code>AMAZON.YesIntent</code>と<code>AMAZON.NoIntent</code>が<code>guessModeHandlers</code>オブジェクトの中に定義されていないことを確認してください。それらのインテントは、<code>Unhandled</code>ハンドラによって捕捉されます。</p>
<p>また、両方の状態で<code>NewSession</code>と<code>Unhandled</code>の動作が違うことに気づいたでしょうか。このゲームでは、<code>newSessionHandlers</code>オブジェクトに定義された<code>NewSession</code>ハンドラを呼び出すことで、状態を'reset'します。この定義を省略することもできます。そうした場合、alexa-sdkは、現在の状態のインテントハンドラを呼び出します。<code>alexa.execute()</code>を呼び出す前に、状態ハンドラを登録することを忘れないでください。登録を忘れると、状態ハンドラが見つけられなくなります。</p>
<p>セッションを終了すると属性は自動的に保存されますが、ユーザーがセッションを終了した場合は強制的に保存するために<code>:saveState</code>イベント (<code>this.emit(':saveState', true)</code>) を発行しなければいけません。ユーザーが「中止」と言ったりタイムアウトしたりしてセッションを終了した時に呼び出される<code>SessionEndedRequest</code>ハンドラで、これを行う必要があります。上の例を見てください。</p>
<p>明示的に状態をリセットしたい場合は、次のコードが有効です。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c1">this</span>.<span class="pl-smi">handler</span>.<span class="pl-smi">state</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span> <span class="pl-c"><span class="pl-c">//</span> this.handler.stateの削除は、参照エラーを引き起こす可能性がある</span>
<span class="pl-k">delete</span> <span class="pl-c1">this</span>.<span class="pl-c1">attributes</span>[<span class="pl-s"><span class="pl-pds">'</span>STATE<span class="pl-pds">'</span></span>];</pre></div>
<h3><a href="#dynamodbによるスキル属性の保持" aria-hidden="true" class="anchor" id="user-content-dynamodbによるスキル属性の保持"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>DynamoDBによるスキル属性の保持</h3>
<p>セッション属性値を後で使うためにストレージに保存したいと思う場合が多いでしょう。alexa-sdkは<a href="https://aws.amazon.com/dynamodb/" rel="nofollow">Amazon DynamoDB</a> (NoSQLデータベースサービス) と直接統合されているため、たった1行のコードでこれを実現できます。</p>
<p>alexa.executeを呼び出す前に、DynamoDBテーブルの名前をalexaオブジェクトに設定するだけです。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c1">exports</span>.<span class="pl-en">handler</span> <span class="pl-k">=</span> <span class="pl-k">function</span> (<span class="pl-c1">event</span>, <span class="pl-smi">context</span>, <span class="pl-smi">callback</span>) {
    <span class="pl-k">const</span> <span class="pl-c1">alexa</span> <span class="pl-k">=</span> <span class="pl-smi">Alexa</span>.<span class="pl-en">handler</span>(<span class="pl-c1">event</span>, context, callback);
    <span class="pl-smi">alexa</span>.<span class="pl-smi">appId</span> <span class="pl-k">=</span> appId;
    <span class="pl-smi">alexa</span>.<span class="pl-smi">dynamoDBTableName</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>YourTableName<span class="pl-pds">'</span></span>; <span class="pl-c"><span class="pl-c">//</span> これだけでOK!</span>
    <span class="pl-smi">alexa</span>.<span class="pl-en">registerHandlers</span>(State1Handlers, State2Handlers);
    <span class="pl-smi">alexa</span>.<span class="pl-en">execute</span>();
};</pre></div>
<p>その後、値を設定するには、alexaオブジェクトのattributesプロパティを単に呼び出します。もう<code>put</code>関数や<code>get</code>関数は不要です!</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c1">this</span>.<span class="pl-c1">attributes</span>[<span class="pl-s"><span class="pl-pds">'</span>yourAttribute<span class="pl-pds">'</span></span>] <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>value<span class="pl-pds">'</span></span>;</pre></div>
<p>事前に<a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/SampleData.CreateTables.html" rel="nofollow">テーブルを手動で作成する</a>か、Lambda関数にDynamoDBの<a href="http://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_CreateTable.html" rel="nofollow">テーブル作成を許可する</a>ことで、自動的に実行されます。最初の呼び出しで、テーブルが作成されるまでに1〜2分かかることだけを覚えておいてください。手動でテーブルを作成する場合、主キーは"userId"という文字列値でなければいけません。</p>
<p>注意: Lambdaでスキルをホストし、DynamoDBでスキル属性を保持することを選んだ場合は、Lambda関数の実行ロールにDynamoDBへのアクセス権限を含めてください。</p>
<h3><a href="#スキルへの多言語対応の追加" aria-hidden="true" class="anchor" id="user-content-スキルへの多言語対応の追加"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>スキルへの多言語対応の追加</h3>
<p>ここでHello Worldの例を見てみましょう。ユーザー対応するすべての言語の文字列を次の形式で定義します。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">languageStrings</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span>en-GB<span class="pl-pds">'</span></span><span class="pl-k">:</span> {
        <span class="pl-s"><span class="pl-pds">'</span>translation<span class="pl-pds">'</span></span><span class="pl-k">:</span> {
            <span class="pl-s"><span class="pl-pds">'</span>SAY_HELLO_MESSAGE<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Hello World!<span class="pl-pds">'</span></span>
        }
    },
    <span class="pl-s"><span class="pl-pds">'</span>en-US<span class="pl-pds">'</span></span><span class="pl-k">:</span> {
        <span class="pl-s"><span class="pl-pds">'</span>translation<span class="pl-pds">'</span></span><span class="pl-k">:</span> {
            <span class="pl-s"><span class="pl-pds">'</span>SAY_HELLO_MESSAGE<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Hello World!<span class="pl-pds">'</span></span>
        }
    },
    <span class="pl-s"><span class="pl-pds">'</span>de-DE<span class="pl-pds">'</span></span><span class="pl-k">:</span> {
        <span class="pl-s"><span class="pl-pds">'</span>translation<span class="pl-pds">'</span></span><span class="pl-k">:</span> {
            <span class="pl-s"><span class="pl-pds">'</span>SAY_HELLO_MESSAGE<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Hallo Welt!<span class="pl-pds">'</span></span>
        }
    }
};</pre></div>
<p>alexa-sdkで文字列の国際化機能を有効にするには、上で作成したオブジェクトにリソースを設定します。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c1">exports</span>.<span class="pl-en">handler</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(<span class="pl-c1">event</span>, <span class="pl-smi">context</span>, <span class="pl-smi">callback</span>) {
    <span class="pl-k">const</span> <span class="pl-c1">alexa</span> <span class="pl-k">=</span> <span class="pl-smi">Alexa</span>.<span class="pl-en">handler</span>(<span class="pl-c1">event</span>, context);
    <span class="pl-smi">alexa</span>.<span class="pl-smi">appId</span> <span class="pl-k">=</span> appId;
    <span class="pl-c"><span class="pl-c">//</span> 文字列の国際化 (i18n) 機能を有効にするため、リソースオブジェクトを設定する。</span>
    <span class="pl-smi">alexa</span>.<span class="pl-smi">resources</span> <span class="pl-k">=</span> languageStrings;
    <span class="pl-smi">alexa</span>.<span class="pl-en">registerHandlers</span>(handlers);
    <span class="pl-smi">alexa</span>.<span class="pl-en">execute</span>();
};</pre></div>
<p>言語文字列の定義と有効化を完了したら、this.t()関数を使ってこれらの文字列にアクセスできます。文字列は、入ってきたリクエストのlocaleと一致する言語で表示されます。</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">handlers</span> <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">LaunchRequest</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>SayHello<span class="pl-pds">'</span></span>);
    },
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">HelloWorldIntent</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>SayHello<span class="pl-pds">'</span></span>);
    },
    <span class="pl-s"><span class="pl-pds">'</span><span class="pl-en">SayHello</span><span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
        <span class="pl-c1">this</span>.<span class="pl-smi">response</span>.<span class="pl-en">speak</span>(<span class="pl-c1">this</span>.<span class="pl-en">t</span>(<span class="pl-s"><span class="pl-pds">'</span>SAY_HELLO_MESSAGE<span class="pl-pds">'</span></span>));
        <span class="pl-c1">this</span>.<span class="pl-en">emit</span>(<span class="pl-s"><span class="pl-pds">'</span>:responseReady<span class="pl-pds">'</span></span>);
    }
};</pre></div>
<p>多言語でのスキルの開発とデプロイについて、さらに詳しい情報は<a href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/developing-skills-in-multiple-languages" rel="nofollow">こちら</a>を参照してください。</p>
<h3><a href="#device-idのサポート" aria-hidden="true" class="anchor" id="user-content-device-idのサポート"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Device IDのサポート</h3>
<p>ユーザーがAlexaスキルを有効化すると、スキルは、ユーザーのAlexaデバイスに関連づけられたアドレスデータを使用するためのユーザー許可を取得できます。このアドレスデータを使用して、スキルに重要な機能を提供したり、ユーザー体験を強化したりできます。</p>
<p><code>deviceId</code>は、各リクエストのコンテキストオブジェクトを通して公開され、任意のインテントハンドラから<code>this.event.context.System.device.deviceId</code>を通してアクセスできます。スキルでユーザーのデバイスアドレスを使うためにdeviceIdとAddress APIを利用する方法については、<a href="https://github.com/alexa/skill-sample-node-device-address-api">Address API サンプルスキル</a>を参照してください。</p>
<h3><a href="#speechcons-感嘆詞" aria-hidden="true" class="anchor" id="user-content-speechcons-感嘆詞"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Speechcons (感嘆詞)</h3>
<p><a href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/speechcon-reference" rel="nofollow">Speechcons</a>は、Alexaがより表現力豊かに発音する特殊な単語とフレーズです。出力するテキストにSSMLマークアップを入れるだけで使えます。</p>
<ul>
<li><code>this.emit(':tell', 'あなたが教えてくれたAlexaスキルを見ると、わたしはときどき &lt;say-as interpret-as="interjection"&gt;やれやれ&lt;/say-as&gt; と言わざるをえません。');</code></li>
<li><code>this.emit(':tell', '&lt;say-as interpret-as="interjection"&gt;いらっしゃいませ&lt;/say-as&gt;&lt;break time="1s"/&gt; これはただの一例です。');</code></li>
</ul>
<h2><a href="#開発環境のセットアップ" aria-hidden="true" class="anchor" id="user-content-開発環境のセットアップ"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>開発環境のセットアップ</h2>
<ul>
<li>要件</li>
<li>Gulp と mocha  <code>npm install -g gulp mocha</code></li>
<li>npm installを実行して必要なものを用意する</li>
<li>テストやlintを実行するためにgulpを実行する</li>
</ul>
<p>Alexa Skills Kitを開始する方法の詳細は、次の追加のドキュメントを参照してください。</p>
<p><a href="http://bit.ly/alexadevchat" rel="nofollow">Alexa Dev Chat Podcast</a></p>
<p><a href="https://developer.amazon.com/public/community/blog/tag/Big+Nerd+Ranch" rel="nofollow">Alexa Training with Big Nerd Ranch</a></p>
<p><a href="https://developer.amazon.com/ask" rel="nofollow">Alexa Skills Kit (ASK)</a></p>
<p><a href="https://forums.developer.amazon.com/forums/category.jspa?categoryID=48" rel="nofollow">Alexa Developer Forums</a></p>
<p><a href="https://developer.amazon.com/alexa-skills-kit/alexa-skills-developer-training" rel="nofollow">Training for the Alexa Skills Kit</a></p>
<p>-Dave ( <a href="http://twitter.com/thedavedev" rel="nofollow">@TheDaveDev</a>)</p>
</article>
  </div>

  </div>

  <button type="button" data-facebox="#jump-to-line" data-facebox-class="linejump" data-hotkey="l" class="d-none">Jump to Line</button>
  <div id="jump-to-line" style="display:none">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="" class="js-jump-to-line-form" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
      <input class="form-control linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
      <button type="submit" class="btn">Go</button>
</form>  </div>


  </div>
  <div class="modal-backdrop js-touch-events"></div>
</div>

    </div>
  </div>

  </div>

      
<div class="footer container-lg px-3" role="contentinfo">
  <div class="position-relative d-flex flex-justify-between py-6 mt-6 f6 text-gray border-top border-gray-light ">
    <ul class="list-style-none d-flex flex-wrap ">
      <li class="mr-3">&copy; 2018 <span title="0.65304s from unicorn-444895241-l1hng">GitHub</span>, Inc.</li>
        <li class="mr-3"><a href="https://github.com/site/terms" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li class="mr-3"><a href="https://github.com/site/privacy" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li class="mr-3"><a href="https://github.com/security" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li class="mr-3"><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a href="https://help.github.com" data-ga-click="Footer, go to help, text:help">Help</a></li>
    </ul>

    <a href="https://github.com" aria-label="Homepage" class="footer-octicon" title="GitHub">
      <svg aria-hidden="true" class="octicon octicon-mark-github" height="24" version="1.1" viewBox="0 0 16 16" width="24"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
</a>
    <ul class="list-style-none d-flex flex-wrap ">
        <li class="mr-3"><a href="https://github.com/contact" data-ga-click="Footer, go to contact, text:contact">Contact GitHub</a></li>
      <li class="mr-3"><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3"><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li class="mr-3"><a href="https://shop.github.com" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li class="mr-3"><a href="https://github.com/blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a href="https://github.com/about" data-ga-click="Footer, go to about, text:about">About</a></li>

    </ul>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"/></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
    </button>
    You can't perform that action at this time.
  </div>


    
    <script crossorigin="anonymous" integrity="sha512-jqvDaL8uGENbC1rsifCdxmfE5RQmxtizkQ1xMGfvpSbwdKnG1vYz/z/BKuMEtJxU7/cY0IFKZlpgmUrMPtu4oQ==" src="https://assets-cdn.github.com/assets/frameworks-8eabc368bf2e.js" type="application/javascript"></script>
    
    <script async="async" crossorigin="anonymous" integrity="sha512-hX88UByP1/eHEoDD6Hir+7WrYmqUv9GMCaU4yDjeZJ+0v7uCPIqOOsQRP26sf6YWwWn7vWF7qrpRwdn0TgrrGw==" src="https://assets-cdn.github.com/assets/github-857f3c501c8f.js" type="application/javascript"></script>
    
    
    
    
  <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner d-none">
    <svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"/></svg>
    <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
  <div class="facebox" id="facebox" style="display:none;">
  <div class="facebox-popup">
    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">
    </div>
    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">
      <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
    </button>
  </div>
</div>

  

  </body>
</html>

